// API: finishSubActivity
// Service: ActivityTaskManagerService_4

public void finishSubActivity() {
    WindowManagerGlobalLock var5 = this.mGlobalLock;
    WindowManagerService.boostPriorityForLockedSection();
    long var8 = Binder.clearCallingIdentity();
    ActivityRecord var10 = ActivityRecord.isInStackLocked(param2);
    ActivityStack var13 = var10.getActivityStack();
    var13.finishSubActivityLocked(var10,param3,param4);
    ArrayList var5 = this.mTaskHistory;
    int var7 = var5.size();
    var9 = var7 add -1;
    ArrayList var11 = this.mTaskHistory;
    Object var13 = var11.get(var43);
    TaskRecord var14 = (TaskRecord) var13;
    ArrayList var15 = var14.mActivities;
    int var17 = var15.size();
    var18 = var17 add -1;
    Object var20 = var15.get(var39);
    ActivityRecord var21 = (ActivityRecord) var20;
    ActivityRecord var22 = var21.resultTo;
    int var23 = var21.requestCode;
    String var24 = var21.resultWho;
    String var25 = var21.resultWho;
    String var26 = var21.resultWho;
    boolean var28 = var26.equals(param3);
    boolean var34 = finishActivityLocked(var21,0,0,request-sub,0);
    boolean var9 = finishActivityLocked(param2,param3,param4,param5,param6,0);
    boolean var8 = param2.finishing;
    WindowManagerService var10 = this.mWindowManager;
    var10.deferSurfaceLayout();
    makeFinishingLocked();
    TaskRecord var14 = getTaskRecord();
    Object var17 = new Object(5);
    int var18 = param2.mUserId;
    Integer var20 = Integer.valueOf(var18);
    arraystore 17[9] = 20;
    int var22 = System.identityHashCode(param2);
    Integer var24 = Integer.valueOf(var22);
    arraystore 17[25] = 24;
    int var26 = var14.taskId;
    Integer var28 = Integer.valueOf(var26);
    arraystore 17[29] = 28;
    String var31 = param2.shortComponentName;
    arraystore 17[30] = 31;
    arraystore 17[32] = 5;
    ArrayList var35 = var14.mActivities;
    int var37 = var35.indexOf(param2);
    int var39 = var35.size();
    var40 = var39 sub 1;
    var14.setFrontOfTask();
    Intent var42 = param2.intent;
    int var44 = var42.getFlags();
    var46 = var44 and 524288;
    var48 = var37 add 1;
    Object var50 = var35.get(var48);
    ActivityRecord var51 = (ActivityRecord) var50;
    Intent var52 = var51.intent;
    Intent var54 = var52.addFlags(524288);
    pauseKeyDispatchingLocked();
    adjustFocusedActivityStack(param2,finishActivity);
    finishActivityResultsLocked(param2,param3,param4);
    boolean var64 = var14.isClearingToReuseTask();
    ActivityRecord var74 = this.mResumedActivity;
    ActivityTaskManagerService var116 = this.mService;
    TaskChangeNotificationController var118 = var116.getTaskChangeNotificationController();
    ActivityManager$RunningTaskInfo var120 = var14.getTaskInfo();
    var118.notifyTaskRemovalStarted(var120);
    ActivityDisplay var127 = getDisplay();
    DisplayContent var128 = var127.mDisplayContent;
    var128.prepareAppTransition(var73,0);
    WindowManagerService var130 = this.mWindowManager;
    TaskSnapshotController var131 = var130.mTaskSnapshotController;
    Task var132 = new Task(1);
    Task var133 = var14.mTask;
    arraystore 132[9] = 133;
    ArraySet var135 = Sets.newArraySet(var132);
    WindowManagerService var136 = this.mWindowManager;
    TaskSnapshotController var137 = var136.mTaskSnapshotController;
    var137.snapshotTasks(var135);
    WindowManagerService var139 = this.mWindowManager;
    TaskSnapshotController var140 = var139.mTaskSnapshotController;
    var140.addSkipClosingAppSnapshotTasks(var135);
    setVisibility(0);
    ActivityRecord var158 = this.mPausingActivity;
    boolean var165 = startPausingLocked(0,0,0,param7);
    ActivityTaskManagerService var169 = this.mService;
    LockTaskController var171 = var169.getLockTaskController();
    var171.clearLockedTask(var14);
    WindowManagerService var201 = this.mWindowManager;
    var201.continueSurfaceLayout();
    boolean 0;
}
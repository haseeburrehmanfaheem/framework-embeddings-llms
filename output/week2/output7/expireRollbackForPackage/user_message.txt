// API: expireRollbackForPackage
// Service: RollbackManagerServiceImpl_2

public void expireRollbackForPackage() {
    Context var3 = this.mContext;
    Object var7 = this.mLock;
    ensureRollbackDataLoadedLocked();{ensureRollbackDataLoadedLocked();};
    List var9 = this.mRollbacks;
    Iterator var11 = var9.iterator();
    Object var16 = var11.next();
    RollbackData var17 = (RollbackData) var16;
    RollbackInfo var18 = var17.info;
    List var20 = var18.getPackages();
    Iterator var22 = var20.iterator();
    Object var26 = var22.next();
    PackageRollbackInfo var27 = (PackageRollbackInfo) var26;
    String var29 = var27.getPackageName();
    var11.remove();
    deleteRollback(var17);
    RollbackInfo var3 = param2.info;
    List var5 = var3.getPackages();
    Iterator var7 = var5.iterator();
    Object var12 = var7.next();
    PackageRollbackInfo var13 = (PackageRollbackInfo) var12;
    IntArray var15 = var13.getInstalledUsers();
    int var17 = var15.size();
    int var19 = var15.get(var27);
    AppDataRollbackHelper var20 = this.mAppDataRollbackHelper;
    RollbackInfo var21 = param2.info;
    int var23 = var21.getRollbackId();
    var20.destroyAppDataSnapshot(var23,var13,var19);
    SparseLongArray var7 = getCeSnapshotInodes();
    long var9 = var7.get(param4);
    var11 = var9 lt 0;
    Installer var16 = this.mInstaller;
    String var18 = getPackageName();
    boolean var20 = var16.destroyAppDataSnapshot(var18,param4,var9,param2,var15);
    var36 = var15 and 2;
    var7.delete(param4);<PATH_SEP>Context var3 = this.mContext;
    Object var7 = this.mLock;
    ensureRollbackDataLoadedLocked();{ensureRollbackDataLoadedLocked();};
    List var9 = this.mRollbacks;
    Iterator var11 = var9.iterator();
    Object var16 = var11.next();
    RollbackData var17 = (RollbackData) var16;
    RollbackInfo var18 = var17.info;
    List var20 = var18.getPackages();
    Iterator var22 = var20.iterator();
    Object var26 = var22.next();
    PackageRollbackInfo var27 = (PackageRollbackInfo) var26;
    String var29 = var27.getPackageName();
    var11.remove();
    deleteRollback(var17);
    RollbackInfo var3 = param2.info;
    List var5 = var3.getPackages();
    Iterator var7 = var5.iterator();
    Object var12 = var7.next();
    PackageRollbackInfo var13 = (PackageRollbackInfo) var12;
    IntArray var15 = var13.getInstalledUsers();
    int var17 = var15.size();
    int var19 = var15.get(var27);
    AppDataRollbackHelper var20 = this.mAppDataRollbackHelper;
    RollbackInfo var21 = param2.info;
    int var23 = var21.getRollbackId();
    var20.destroyAppDataSnapshot(var23,var13,var19);
    SparseLongArray var7 = getCeSnapshotInodes();
    long var9 = var7.get(param4);
    var11 = var9 lt 0;
    var14 = 1 or 2;
    Installer var16 = this.mInstaller;
    String var18 = getPackageName();
    boolean var20 = var16.destroyAppDataSnapshot(var18,param4,var9,param2,var15);
    var36 = var15 and 2;
    var7.delete(param4);<PATH_SEP>Context var3 = this.mContext;
    Object var7 = this.mLock;
    ensureRollbackDataLoadedLocked();{ensureRollbackDataLoadedLocked();};
    List var9 = this.mRollbacks;
    Iterator var11 = var9.iterator();
    Object var16 = var11.next();
    RollbackData var17 = (RollbackData) var16;
    RollbackInfo var18 = var17.info;
    List var20 = var18.getPackages();
    Iterator var22 = var20.iterator();
    Object var26 = var22.next();
    PackageRollbackInfo var27 = (PackageRollbackInfo) var26;
    String var29 = var27.getPackageName();
    var11.remove();<PATH_SEP>Context var3 = this.mContext;
    Object var7 = this.mLock;
    ensureRollbackDataLoadedLocked();{ensureRollbackDataLoadedLocked();};
    List var9 = this.mRollbacks;
    Iterator var11 = var9.iterator();
    Object var16 = var11.next();
    RollbackData var17 = (RollbackData) var16;
    RollbackInfo var18 = var17.info;
    List var20 = var18.getPackages();
    Iterator var22 = var20.iterator();
    Object var26 = var22.next();
    PackageRollbackInfo var27 = (PackageRollbackInfo) var26;
    String var29 = var27.getPackageName();
    var11.remove();
    deleteRollback(var17);
    RollbackInfo var3 = param2.info;
    List var5 = var3.getPackages();
    Iterator var7 = var5.iterator();
    Object var12 = var7.next();
    PackageRollbackInfo var13 = (PackageRollbackInfo) var12;
    IntArray var15 = var13.getInstalledUsers();
    int var17 = var15.size();
    int var19 = var15.get(var27);
    AppDataRollbackHelper var20 = this.mAppDataRollbackHelper;
    RollbackInfo var21 = param2.info;
    int var23 = var21.getRollbackId();
    var20.destroyAppDataSnapshot(var23,var13,var19);
    SparseLongArray var7 = getCeSnapshotInodes();
    long var9 = var7.get(param4);
    var11 = var9 lt 0;
    var14 = 1 or 2;
    Installer var16 = this.mInstaller;
    String var18 = getPackageName();
    boolean var20 = var16.destroyAppDataSnapshot(var18,param4,var9,param2,var15);
    boolean var8 = checkBeforeRemote();{boolean var8 = checkBeforeRemote();};
    IInstalld var10 = this.mInstalld;
    var10.destroyAppDataSnapshot(0,param2,param3,param4,param5,param6);
    boolean 1;
}
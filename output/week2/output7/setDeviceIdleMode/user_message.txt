// API: setDeviceIdleMode
// Service: NetworkPolicyManagerService_2

public void setDeviceIdleMode() {
    Context var3 = this.mContext;
    Trace.traceBegin(2097152,setDeviceIdleMode);
    Object var10 = this.mUidRulesFirstLock;
    boolean var11 = this.mDeviceIdleMode;
    this.mDeviceIdleMode = param2;
    boolean var14 = this.mSystemReady;
    updateRulesForRestrictPowerUL();
    Trace.traceBegin(2097152,updateRulesForRestrictPowerUL);
    updateRulesForDeviceIdleUL();
    updateRulesForPowerSaveUL();
    updateRulesForAllAppsUL(2);
    boolean var5 = Trace.isTagEnabled(2097152);
    Trace.traceBegin(2097152,var15);
    Context var20 = this.mContext;
    PackageManager var22 = var20.getPackageManager();
    Trace.traceBegin(2097152,list-users);
    UserManager var25 = this.mUserManager;
    List var27 = var25.getUsers();
    Trace.traceEnd(2097152);
    Trace.traceBegin(2097152,list-uids);
    List var37 = var22.getInstalledApplications(4981248);
    Trace.traceEnd(2097152);
    int var42 = var27.size();
    int var44 = var37.size();
    Object var46 = var27.get(var81);
    UserInfo var47 = (UserInfo) var46;
    Object var49 = var37.get(var77);
    ApplicationInfo var50 = (ApplicationInfo) var49;
    int var51 = var47.id;
    int var52 = var50.uid;
    int var54 = UserHandle.getUid(var51,var52);
    updateRulesForDataUsageRestrictionsUL(var54);
    boolean var5 = Trace.isTagEnabled(2097152);
    Trace.traceBegin(2097152,var15);
    updateRulesForDataUsageRestrictionsULInner(param2);<PATH_SEP>Context var3 = this.mContext;
    Trace.traceBegin(2097152,setDeviceIdleMode);
    Object var10 = this.mUidRulesFirstLock;
    boolean var11 = this.mDeviceIdleMode;
    this.mDeviceIdleMode = param2;
    boolean var14 = this.mSystemReady;
    updateRulesForRestrictPowerUL();
    Trace.traceBegin(2097152,updateRulesForRestrictPowerUL);
    updateRulesForDeviceIdleUL();
    Trace.traceBegin(2097152,updateRulesForDeviceIdleUL);
    boolean var5 = this.mDeviceIdleMode;
    SparseIntArray var7 = this.mUidFirewallDozableRules;
    updateRulesForWhitelistedPowerSaveUL(var5,1,var7);<PATH_SEP>Context var3 = this.mContext;
    Trace.traceBegin(2097152,setDeviceIdleMode);
    Object var10 = this.mUidRulesFirstLock;
    boolean var11 = this.mDeviceIdleMode;
    this.mDeviceIdleMode = param2;
    boolean var14 = this.mSystemReady;
    updateRulesForRestrictPowerUL();
    Trace.traceBegin(2097152,updateRulesForRestrictPowerUL);
    updateRulesForDeviceIdleUL();
    Trace.traceBegin(2097152,updateRulesForDeviceIdleUL);
    boolean var5 = this.mDeviceIdleMode;
    SparseIntArray var7 = this.mUidFirewallDozableRules;
    updateRulesForWhitelistedPowerSaveUL(var5,1,var7);
    clear();
    UserManager var9 = this.mUserManager;
    List var11 = var9.getUsers();
    int var13 = var11.size();
    var15 = var13 sub 1;
    SparseIntArray var37 = this.mUidState;
    int var39 = var37.size();
    var40 = var39 sub 1;
    SparseIntArray var41 = this.mUidState;
    int var43 = var41.valueAt(var54);
    boolean var45 = NetworkPolicyManager.isProcStateAllowedWhileIdleOrPowerSaveMode(var43);
    SparseIntArray var46 = this.mUidState;
    int var48 = var46.keyAt(var54);
    put(var48,1);<PATH_SEP>Context var3 = this.mContext;
    Trace.traceBegin(2097152,setDeviceIdleMode);
    Object var10 = this.mUidRulesFirstLock;
    boolean var11 = this.mDeviceIdleMode;
    this.mDeviceIdleMode = param2;
    boolean var14 = this.mSystemReady;
    updateRulesForRestrictPowerUL();
    Trace.traceBegin(2097152,updateRulesForRestrictPowerUL);
    updateRulesForDeviceIdleUL();
    updateRulesForPowerSaveUL();
    updateRulesForAllAppsUL(2);
    boolean var5 = Trace.isTagEnabled(2097152);
    Trace.traceBegin(2097152,var15);
    Context var20 = this.mContext;
    PackageManager var22 = var20.getPackageManager();
    Trace.traceBegin(2097152,list-users);
    UserManager var25 = this.mUserManager;
    List var27 = var25.getUsers();
    Trace.traceEnd(2097152);
    Trace.traceBegin(2097152,list-uids);
    List var37 = var22.getInstalledApplications(4981248);
    Trace.traceEnd(2097152);
    int var42 = var27.size();
    int var44 = var37.size();
    Object var46 = var27.get(var81);
    UserInfo var47 = (UserInfo) var46;
    Object var49 = var37.get(var77);
    ApplicationInfo var50 = (ApplicationInfo) var49;
    int var51 = var47.id;
    int var52 = var50.uid;
    int var54 = UserHandle.getUid(var51,var52);
    updateRulesForPowerRestrictionsUL(var54);
    SparseIntArray var3 = this.mUidRules;
    int var6 = var3.get(param2,0);
    int var8 = updateRulesForPowerRestrictionsUL(param2,var6,0);
    SparseIntArray var9 = this.mUidRules;
    var9.put(param2,var8);
}
"Class","Method","Depth","Trace Instruction(s) ...","Java Code Representation","Access Control Level"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","0","14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
conditional branch(ne, to iindex=-1) 57,20,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","1","14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
18 = new <Application,Ljava/lang/StringBuilder>@28,
42 = new <Application,Ljava/lang/StringBuilder>@73,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
43 = phi  42,16,
conditional branch(ge, to iindex=-1) 43,30,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDeviceManagerLock, <Application,Ljava/lang/Object> > 1,
return 2,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDevices, <Application,Landroid/util/SparseArray> > 1,
return 2,
conditional branch(ne, to iindex=-1) 57,20,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mCameraAccessControllers, <Application,Landroid/util/SparseArray> > 1,
return 2,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDevices, <Application,Landroid/util/SparseArray> > 1,
return 2,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
2 = getfield < Application, Landroid/companion/AssociationInfo, mId, <Primordial,I> > 1,
return 2,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""validatePackageName: App with package name "");
	StringBuilder v8 = v5.append(p2);
	StringBuilder v9 = v5.append("" is UID "");
	StringBuilder v10 = v5.append(v5);
	StringBuilder v11 = v5.append("" but caller is "");
	StringBuilder v12 = v5.append(v1);
	String v13 = v5.toString();
	int v14 = Slog.e(""VDM.PermissionUtils"", v13);
	StringBuilder v14 = new StringBuilder();
	StringBuilder v16 = v14.append(""validatePackageName: App with package name "");
	StringBuilder v17 = v14.append(p2);
	StringBuilder v18 = v14.append("" does not exist"");
	String v19 = v14.toString();
	int v20 = Slog.e(""VDM.PermissionUtils"", v19);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	int v6 = v5.size();
	return 0;
}
-----
depth : 1
public Object -$$Nest$fgetmVirtualDeviceManagerLock(VirtualDeviceManagerService p1){
	return this.mVirtualDeviceManagerLock;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmVirtualDevices(VirtualDeviceManagerService p1){
	return this.mVirtualDevices;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmCameraAccessControllers(VirtualDeviceManagerService p1){
	return this.mCameraAccessControllers;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmVirtualDevices(VirtualDeviceManagerService p1){
	return this.mVirtualDevices;
}
-----
depth : 1
public int getId(){
	return this.mId;
}
-----
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","1","14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
42 = new <Application,Ljava/lang/StringBuilder>@73,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
43 = phi  42,16,
conditional branch(ge, to iindex=-1) 43,30,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDeviceManagerLock, <Application,Ljava/lang/Object> > 1,
return 2,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDevices, <Application,Landroid/util/SparseArray> > 1,
return 2,
conditional branch(ne, to iindex=-1) 57,20,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mCameraAccessControllers, <Application,Landroid/util/SparseArray> > 1,
return 2,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDevices, <Application,Landroid/util/SparseArray> > 1,
return 2,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
2 = getfield < Application, Landroid/companion/AssociationInfo, mId, <Primordial,I> > 1,
return 2,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	int v1 = Binder.getCallingUid();
	long v2 = Binder.clearCallingIdentity();
	PackageManager v3 = p1.getPackageManager();
	int v4 = UserHandle.getUserId(v1);
	StringBuilder v4 = new StringBuilder();
	StringBuilder v6 = v4.append(""validatePackageName: App with package name "");
	StringBuilder v7 = v4.append(p2);
	StringBuilder v8 = v4.append("" does not exist"");
	String v9 = v4.toString();
	int v10 = Slog.e(""VDM.PermissionUtils"", v9);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	int v6 = v5.size();
	return 0;
}
-----
depth : 1
public Object -$$Nest$fgetmVirtualDeviceManagerLock(VirtualDeviceManagerService p1){
	return this.mVirtualDeviceManagerLock;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmVirtualDevices(VirtualDeviceManagerService p1){
	return this.mVirtualDevices;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmCameraAccessControllers(VirtualDeviceManagerService p1){
	return this.mCameraAccessControllers;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmVirtualDevices(VirtualDeviceManagerService p1){
	return this.mVirtualDevices;
}
-----
depth : 1
public int getId(){
	return this.mId;
}
-----
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","2","14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
18 = new <Application,Ljava/lang/StringBuilder>@28,
42 = new <Application,Ljava/lang/StringBuilder>@73,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mAllAssociations, <Application,Ljava/util/concurrent/ConcurrentHashMap> > 1,
return 2,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
43 = phi  42,16,
conditional branch(ge, to iindex=-1) 43,30,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
conditional branch(ne, to iindex=-1) 57,20,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
conditional branch(eq, to iindex=-1) 2,4,
10 = getfield < Application, Landroid/hardware/camera2/CameraManager, mHasOpenCloseListenerPermission, <Primordial,Z> > 1,
return,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""validatePackageName: App with package name "");
	StringBuilder v8 = v5.append(p2);
	StringBuilder v9 = v5.append("" is UID "");
	StringBuilder v10 = v5.append(v5);
	StringBuilder v11 = v5.append("" but caller is "");
	StringBuilder v12 = v5.append(v1);
	String v13 = v5.toString();
	int v14 = Slog.e(""VDM.PermissionUtils"", v13);
	StringBuilder v14 = new StringBuilder();
	StringBuilder v16 = v14.append(""validatePackageName: App with package name "");
	StringBuilder v17 = v14.append(p2);
	StringBuilder v18 = v14.append("" does not exist"");
	String v19 = v14.toString();
	int v20 = Slog.e(""VDM.PermissionUtils"", v19);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	int v6 = v5.size();
	return 0;
}
-----
depth : 2
public ConcurrentHashMap -$$Nest$fgetmAllAssociations(VirtualDeviceManagerService p1){
	return this.mAllAssociations;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 2
public void registerAvailabilityCallback(Executor p1, CameraManager$AvailabilityCallback p2){
	CameraManager$CameraManagerGlobal v1 = CameraManager$CameraManagerGlobal.get();
	v1.registerAvailabilityCallback(p2, p1, this.mHasOpenCloseListenerPermission);
	return;
}
-----
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","2","14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
42 = new <Application,Ljava/lang/StringBuilder>@73,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mAllAssociations, <Application,Ljava/util/concurrent/ConcurrentHashMap> > 1,
return 2,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
43 = phi  42,16,
conditional branch(ge, to iindex=-1) 43,30,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
conditional branch(ne, to iindex=-1) 57,20,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
conditional branch(eq, to iindex=-1) 2,4,
10 = getfield < Application, Landroid/hardware/camera2/CameraManager, mHasOpenCloseListenerPermission, <Primordial,Z> > 1,
return,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	int v1 = Binder.getCallingUid();
	long v2 = Binder.clearCallingIdentity();
	PackageManager v3 = p1.getPackageManager();
	int v4 = UserHandle.getUserId(v1);
	StringBuilder v4 = new StringBuilder();
	StringBuilder v6 = v4.append(""validatePackageName: App with package name "");
	StringBuilder v7 = v4.append(p2);
	StringBuilder v8 = v4.append("" does not exist"");
	String v9 = v4.toString();
	int v10 = Slog.e(""VDM.PermissionUtils"", v9);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	int v6 = v5.size();
	return 0;
}
-----
depth : 2
public ConcurrentHashMap -$$Nest$fgetmAllAssociations(VirtualDeviceManagerService p1){
	return this.mAllAssociations;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 2
public void registerAvailabilityCallback(Executor p1, CameraManager$AvailabilityCallback p2){
	CameraManager$CameraManagerGlobal v1 = CameraManager$CameraManagerGlobal.get();
	v1.registerAvailabilityCallback(p2, p1, this.mHasOpenCloseListenerPermission);
	return;
}
-----
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","2","14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
42 = new <Application,Ljava/lang/StringBuilder>@73,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mAllAssociations, <Application,Ljava/util/concurrent/ConcurrentHashMap> > 1,
return 2,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
43 = phi  42,16,
conditional branch(ge, to iindex=-1) 43,30,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
conditional branch(ne, to iindex=-1) 57,20,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
conditional branch(eq, to iindex=-1) 2,4,
10 = getfield < Application, Landroid/hardware/camera2/CameraManager, mHasOpenCloseListenerPermission, <Primordial,Z> > 1,
return,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	int v1 = Binder.getCallingUid();
	long v2 = Binder.clearCallingIdentity();
	PackageManager v3 = p1.getPackageManager();
	int v4 = UserHandle.getUserId(v1);
	int v5 = v3.getPackageUidAsUser(p2, v4);
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""validatePackageName: App with package name "");
	StringBuilder v8 = v5.append(p2);
	StringBuilder v9 = v5.append("" does not exist"");
	String v10 = v5.toString();
	int v11 = Slog.e(""VDM.PermissionUtils"", v10);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	int v6 = v5.size();
	return 0;
}
-----
depth : 2
public ConcurrentHashMap -$$Nest$fgetmAllAssociations(VirtualDeviceManagerService p1){
	return this.mAllAssociations;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 2
public void registerAvailabilityCallback(Executor p1, CameraManager$AvailabilityCallback p2){
	CameraManager$CameraManagerGlobal v1 = CameraManager$CameraManagerGlobal.get();
	v1.registerAvailabilityCallback(p2, p1, this.mHasOpenCloseListenerPermission);
	return;
}
-----
","NORMAL"

"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Ljava/lang/String;)I","0","69 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createWindowPolicyController()Lcom/android/server/companion/virtual/GenericWindowPolicyController; > 40 @52 exception:68,
73 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
74 = load_metadata: <Application,Landroid/hardware/display/DisplayManagerInternal>, <Primordial,Ljava/lang/Class>,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, access$000(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;Ljava/lang/Class;)Ljava/lang/Object; > 73,74 @63 exception:75,
77 = checkcast <Application,Landroid/hardware/display/DisplayManagerInternal>76 <Application,Landroid/hardware/display/DisplayManagerInternal>,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, onVirtualDisplayCreatedLocked(Lcom/android/server/companion/virtual/GenericWindowPolicyController;I)V > 40,69,79 @83 exception:82,
86 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
88 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmLocalService(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal; > 86 @91 exception:87,
return 79,","depth : 0
public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v10 = v7.createWindowPolicyController();
	Binder.restoreCallingIdentity(v9);
	Object v12 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v13 = v12.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v14 = Binder.clearCallingIdentity();
	v7.onVirtualDisplayCreatedLocked(v10, v13);
	Binder.restoreCallingIdentity(v14);
	VirtualDeviceManagerInternal v17 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v17.onVirtualDisplayCreated(v13);
	return v13;
}
-----
","NONE"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Ljava/lang/String;)I","1","69 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createWindowPolicyController()Lcom/android/server/companion/virtual/GenericWindowPolicyController; > 40 @52 exception:68,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = new <Application,Lcom/android/server/companion/virtual/GenericWindowPolicyController>@3,
7 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getAllowedUserHandles()Landroid/util/ArraySet; > 1 @9 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
10 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedCrossTaskNavigations()Ljava/util/Set; > 8 @15 exception:9,
11 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
13 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedCrossTaskNavigations()Ljava/util/Set; > 11 @21 exception:12,
14 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
16 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedActivities()Ljava/util/Set; > 14 @27 exception:15,
17 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
19 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedActivities()Ljava/util/Set; > 17 @33 exception:18,
20 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
22 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getDefaultActivityPolicy()I > 20 @39 exception:21,
24 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createListenerAdapter()Landroid/companion/virtual/VirtualDeviceManager$ActivityListener; > 1 @43 exception:23,
25 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda2>@47,
27 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda3>@52,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mAssociationInfo, <Application,Landroid/companion/AssociationInfo> > 1,
31 = invokevirtual < Application, Landroid/companion/AssociationInfo, getDeviceProfile()Ljava/lang/String; > 29 @59 exception:30,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, registerRunningAppsChangedListener(Lcom/android/server/companion/virtual/GenericWindowPolicyController$RunningAppsChangedListener;)V > 3,1 @67 exception:33,
monitorexit 2,
return 3,
73 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
74 = load_metadata: <Application,Landroid/hardware/display/DisplayManagerInternal>, <Primordial,Ljava/lang/Class>,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, access$000(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;Ljava/lang/Class;)Ljava/lang/Object; > 73,74 @63 exception:75,
return 4,
77 = checkcast <Application,Landroid/hardware/display/DisplayManagerInternal>76 <Application,Landroid/hardware/display/DisplayManagerInternal>,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, onVirtualDisplayCreatedLocked(Lcom/android/server/companion/virtual/GenericWindowPolicyController;I)V > 40,69,79 @83 exception:82,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 4,
conditional branch(ne, to iindex=-1) 3,5,
6 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
conditional branch(ne, to iindex=-1) 10,11,
23 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, setDisplayId(I)V > 2,3 @29 exception:28,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mWindowPolicyControllers, <Application,Landroid/util/SparseArray> > 1,
31 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
32 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mDefaultShowPointerIcon, <Primordial,Z> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setShowPointerIcon(ZI)V > 31,32,3 @41 exception:33,
34 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setPointerAcceleration(FI)V > 34,35,3 @48 exception:36,
37 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setDisplayEligibilityForPointerCapture(ZI)V > 37,11,3 @54 exception:38,
39 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setLocalIme(I)V > 39,3 @59 exception:40,
41 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
conditional branch(eq, to iindex=-1) 45,11,
46 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
47 = load_metadata: <Application,Landroid/os/PowerManager>, <Primordial,Ljava/lang/Class>,
50 = checkcast <Application,Landroid/os/PowerManager>49 <Application,Landroid/os/PowerManager>,
52 = new <Application,Ljava/lang/StringBuilder>@110,
63 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
invokevirtual < Application, Landroid/os/PowerManager$WakeLock, acquire()V > 62 @140 exception:68,
monitorexit 4,
return,
86 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
88 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmLocalService(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal; > 86 @91 exception:87,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mLocalService, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal> > 1,
return 2,
return 79,","depth : 0
public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v10 = v7.createWindowPolicyController();
	Binder.restoreCallingIdentity(v9);
	Object v12 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v13 = v12.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v14 = Binder.clearCallingIdentity();
	v7.onVirtualDisplayCreatedLocked(v10, v13);
	Binder.restoreCallingIdentity(v14);
	VirtualDeviceManagerInternal v17 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v17.onVirtualDisplayCreated(v13);
	return v13;
}
-----
depth : 1
public GenericWindowPolicyController createWindowPolicyController(){
	GenericWindowPolicyController v0 = new GenericWindowPolicyController(8192,524288,v1,v2,v3,v4,v5,v6,v7,v7,v8,v10);
	ArraySet v1 = p0.getAllowedUserHandles();
	Set v2 = this.mParams.getAllowedCrossTaskNavigations();
	Set v3 = this.mParams.getBlockedCrossTaskNavigations();
	Set v4 = this.mParams.getAllowedActivities();
	Set v5 = this.mParams.getBlockedActivities();
	int v6 = this.mParams.getDefaultActivityPolicy();
	VirtualDeviceManager$ActivityListener v7 = p0.createListenerAdapter();
	VirtualDeviceImpl$$ExternalSyntheticLambda2 v7 = new VirtualDeviceImpl$$ExternalSyntheticLambda2(p0);
	VirtualDeviceImpl$$ExternalSyntheticLambda3 v8 = new VirtualDeviceImpl$$ExternalSyntheticLambda3(p0);
	String v10 = this.mAssociationInfo.getDeviceProfile();
	v0.registerRunningAppsChangedListener(p0);
	return v0;
}
-----
depth : 1
public Object access$000(VirtualDeviceManagerService p1, Class p2){
	Object v1 = p1.getLocalService(p2);
	return v1;
}
-----
depth : 1
public void onVirtualDisplayCreatedLocked(GenericWindowPolicyController p1, int p2){
	Integer v1 = Integer.valueOf(p2);
	boolean v2 = this.mVirtualDisplayIds.contains(v1);
	Integer v3 = Integer.valueOf(p2);
	boolean v4 = this.mVirtualDisplayIds.add(v3);
	p1.setDisplayId(p2);
	this.mWindowPolicyControllers.put(p2, p1);
	this.mInputController.setShowPointerIcon(this.mDefaultShowPointerIcon, p2);
	this.mInputController.setPointerAcceleration(1065353216, p2);
	this.mInputController.setDisplayEligibilityForPointerCapture(0, p2);
	this.mInputController.setLocalIme(p2);
	Integer v11 = Integer.valueOf(p2);
	boolean v12 = this.mPerDisplayWakelocks.containsKey(v11);
	Object v13 = this.mContext.getSystemService(PowerManage.class);
	StringBuilder v13 = new StringBuilder();
	StringBuilder v15 = v13.append(""VirtualDeviceImpl:"");
	StringBuilder v16 = v13.append(p2);
	String v17 = v13.toString();
	PowerManager$WakeLock v18 = v13.newWakeLock(10, v17, p2);
	Integer v19 = Integer.valueOf(p2);
	Object v20 = this.mPerDisplayWakelocks.put(v19, v18);
	v18.acquire();
	return;
}
-----
depth : 1
public VirtualDeviceManagerInternal -$$Nest$fgetmLocalService(VirtualDeviceManagerService p1){
	return this.mLocalService;
}
-----
","NONE"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Ljava/lang/String;)I","2","69 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createWindowPolicyController()Lcom/android/server/companion/virtual/GenericWindowPolicyController; > 40 @52 exception:68,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = new <Application,Lcom/android/server/companion/virtual/GenericWindowPolicyController>@3,
7 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getAllowedUserHandles()Landroid/util/ArraySet; > 1 @9 exception:6,
2 = new <Application,Landroid/util/ArraySet>@0,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
5 = load_metadata: <Application,Landroid/app/admin/DevicePolicyManager>, <Primordial,Ljava/lang/Class>,
8 = checkcast <Application,Landroid/app/admin/DevicePolicyManager>7 <Application,Landroid/app/admin/DevicePolicyManager>,
9 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
10 = load_metadata: <Application,Landroid/os/UserManager>, <Primordial,Ljava/lang/Class>,
13 = checkcast <Application,Landroid/os/UserManager>12 <Application,Landroid/os/UserManager>,
conditional branch(eq, to iindex=-1) 19,20,
return 2,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
10 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedCrossTaskNavigations()Ljava/util/Set; > 8 @15 exception:9,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mAllowedCrossTaskNavigations, <Application,Landroid/util/ArraySet> > 1,
return 4,
11 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
13 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedCrossTaskNavigations()Ljava/util/Set; > 11 @21 exception:12,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mBlockedCrossTaskNavigations, <Application,Landroid/util/ArraySet> > 1,
return 4,
14 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
16 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedActivities()Ljava/util/Set; > 14 @27 exception:15,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mAllowedActivities, <Application,Landroid/util/ArraySet> > 1,
return 4,
17 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
19 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedActivities()Ljava/util/Set; > 17 @33 exception:18,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mBlockedActivities, <Application,Landroid/util/ArraySet> > 1,
return 4,
20 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
22 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getDefaultActivityPolicy()I > 20 @39 exception:21,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mDefaultActivityPolicy, <Primordial,I> > 1,
return 2,
24 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createListenerAdapter()Landroid/companion/virtual/VirtualDeviceManager$ActivityListener; > 1 @43 exception:23,
2 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$1>@0,
return 2,
25 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda2>@47,
27 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda3>@52,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mAssociationInfo, <Application,Landroid/companion/AssociationInfo> > 1,
31 = invokevirtual < Application, Landroid/companion/AssociationInfo, getDeviceProfile()Ljava/lang/String; > 29 @59 exception:30,
2 = getfield < Application, Landroid/companion/AssociationInfo, mDeviceProfile, <Application,Ljava/lang/String> > 1,
return 2,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, registerRunningAppsChangedListener(Lcom/android/server/companion/virtual/GenericWindowPolicyController$RunningAppsChangedListener;)V > 3,1 @67 exception:33,
3 = getfield < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, mRunningAppsChangedListener, <Application,Landroid/util/ArraySet> > 1,
return,
monitorexit 2,
return 3,
73 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
74 = load_metadata: <Application,Landroid/hardware/display/DisplayManagerInternal>, <Primordial,Ljava/lang/Class>,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, access$000(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;Ljava/lang/Class;)Ljava/lang/Object; > 73,74 @63 exception:75,
77 = checkcast <Application,Landroid/hardware/display/DisplayManagerInternal>76 <Application,Landroid/hardware/display/DisplayManagerInternal>,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, onVirtualDisplayCreatedLocked(Lcom/android/server/companion/virtual/GenericWindowPolicyController;I)V > 40,69,79 @83 exception:82,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 4,
conditional branch(ne, to iindex=-1) 3,5,
6 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
conditional branch(ne, to iindex=-1) 10,11,
23 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, setDisplayId(I)V > 2,3 @29 exception:28,
putfield 1.< Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, mDisplayId, <Primordial,I> > = 2,
return,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mWindowPolicyControllers, <Application,Landroid/util/SparseArray> > 1,
31 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
32 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mDefaultShowPointerIcon, <Primordial,Z> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setShowPointerIcon(ZI)V > 31,32,3 @41 exception:33,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
return,
34 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setPointerAcceleration(FI)V > 34,35,3 @48 exception:36,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
return,
37 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setDisplayEligibilityForPointerCapture(ZI)V > 37,11,3 @54 exception:38,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
return,
39 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setLocalIme(I)V > 39,3 @59 exception:40,
3 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mDisplayManagerInternal, <Application,Landroid/hardware/display/DisplayManagerInternal> > 1,
6 = getfield < Application, Landroid/view/DisplayInfo, flags, <Primordial,I> > 5,
8 = binaryop(and) 6 , 7,
conditional branch(ne, to iindex=-1) 8,7,
9 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mWindowManager, <Application,Landroid/view/WindowManager> > 1,
return,
41 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
conditional branch(eq, to iindex=-1) 45,11,
46 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
47 = load_metadata: <Application,Landroid/os/PowerManager>, <Primordial,Ljava/lang/Class>,
50 = checkcast <Application,Landroid/os/PowerManager>49 <Application,Landroid/os/PowerManager>,
52 = new <Application,Ljava/lang/StringBuilder>@110,
63 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
invokevirtual < Application, Landroid/os/PowerManager$WakeLock, acquire()V > 62 @140 exception:68,
monitorexit 4,
return,
86 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
88 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmLocalService(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal; > 86 @91 exception:87,
return 79,","depth : 0
public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v10 = v7.createWindowPolicyController();
	Binder.restoreCallingIdentity(v9);
	Object v12 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v13 = v12.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v14 = Binder.clearCallingIdentity();
	v7.onVirtualDisplayCreatedLocked(v10, v13);
	Binder.restoreCallingIdentity(v14);
	VirtualDeviceManagerInternal v17 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v17.onVirtualDisplayCreated(v13);
	return v13;
}
-----
depth : 1
public GenericWindowPolicyController createWindowPolicyController(){
	GenericWindowPolicyController v0 = new GenericWindowPolicyController(8192,524288,v1,v2,v3,v4,v5,v6,v7,v7,v8,v10);
	ArraySet v1 = p0.getAllowedUserHandles();
	Set v2 = this.mParams.getAllowedCrossTaskNavigations();
	Set v3 = this.mParams.getBlockedCrossTaskNavigations();
	Set v4 = this.mParams.getAllowedActivities();
	Set v5 = this.mParams.getBlockedActivities();
	int v6 = this.mParams.getDefaultActivityPolicy();
	VirtualDeviceManager$ActivityListener v7 = p0.createListenerAdapter();
	VirtualDeviceImpl$$ExternalSyntheticLambda2 v7 = new VirtualDeviceImpl$$ExternalSyntheticLambda2(p0);
	VirtualDeviceImpl$$ExternalSyntheticLambda3 v8 = new VirtualDeviceImpl$$ExternalSyntheticLambda3(p0);
	String v10 = this.mAssociationInfo.getDeviceProfile();
	v0.registerRunningAppsChangedListener(p0);
	return v0;
}
-----
depth : 2
public ArraySet getAllowedUserHandles(){
	ArraySet v0 = new ArraySet();
	Object v2 = this.mContext.getSystemService(DevicePolicyManage.class);
	Object v3 = this.mContext.getSystemService(UserManage.class);
	List v4 = v3.getAllProfiles();
	Iterator v5 = v4.iterator();
	boolean v6 = v5.hasNext();
	return v0;
}
-----
depth : 2
public Set getAllowedCrossTaskNavigations(){
	Set v1 = Collections.unmodifiableSet(this.mAllowedCrossTaskNavigations);
	return v1;
}
-----
depth : 2
public Set getBlockedCrossTaskNavigations(){
	Set v1 = Collections.unmodifiableSet(this.mBlockedCrossTaskNavigations);
	return v1;
}
-----
depth : 2
public Set getAllowedActivities(){
	Set v1 = Collections.unmodifiableSet(this.mAllowedActivities);
	return v1;
}
-----
depth : 2
public Set getBlockedActivities(){
	Set v1 = Collections.unmodifiableSet(this.mBlockedActivities);
	return v1;
}
-----
depth : 2
public int getDefaultActivityPolicy(){
	return this.mDefaultActivityPolicy;
}
-----
depth : 2
public VirtualDeviceManager$ActivityListener createListenerAdapter(){
	VirtualDeviceImpl$1 v0 = new VirtualDeviceImpl$1(p0);
	return v0;
}
-----
depth : 2
public String getDeviceProfile(){
	return this.mDeviceProfile;
}
-----
depth : 2
public void registerRunningAppsChangedListener(GenericWindowPolicyController$RunningAppsChangedListener p1){
	boolean v1 = this.mRunningAppsChangedListener.add(p1);
	return;
}
-----
depth : 1
public void onVirtualDisplayCreatedLocked(GenericWindowPolicyController p1, int p2){
	Integer v1 = Integer.valueOf(p2);
	boolean v2 = this.mVirtualDisplayIds.contains(v1);
	Integer v3 = Integer.valueOf(p2);
	boolean v4 = this.mVirtualDisplayIds.add(v3);
	p1.setDisplayId(p2);
	this.mWindowPolicyControllers.put(p2, p1);
	this.mInputController.setShowPointerIcon(this.mDefaultShowPointerIcon, p2);
	this.mInputController.setPointerAcceleration(1065353216, p2);
	this.mInputController.setDisplayEligibilityForPointerCapture(0, p2);
	this.mInputController.setLocalIme(p2);
	Integer v11 = Integer.valueOf(p2);
	boolean v12 = this.mPerDisplayWakelocks.containsKey(v11);
	Object v13 = this.mContext.getSystemService(PowerManage.class);
	StringBuilder v13 = new StringBuilder();
	StringBuilder v15 = v13.append(""VirtualDeviceImpl:"");
	StringBuilder v16 = v13.append(p2);
	String v17 = v13.toString();
	PowerManager$WakeLock v18 = v13.newWakeLock(10, v17, p2);
	Integer v19 = Integer.valueOf(p2);
	Object v20 = this.mPerDisplayWakelocks.put(v19, v18);
	v18.acquire();
	return;
}
-----
depth : 2
public void setDisplayId(int p1){
	this.mDisplayId = p1;
	return;
}
-----
depth : 2
public void setShowPointerIcon(boolean p1, int p2){
	this.mInputManagerInternal.setPointerIconVisible(p1, p2);
	return;
}
-----
depth : 2
public void setPointerAcceleration(float p1, int p2){
	this.mInputManagerInternal.setPointerAcceleration(p1, p2);
	return;
}
-----
depth : 2
public void setDisplayEligibilityForPointerCapture(boolean p1, int p2){
	this.mInputManagerInternal.setDisplayEligibilityForPointerCapture(p2, p1);
	return;
}
-----
depth : 2
public void setLocalIme(int p1){
	DisplayInfo v1 = this.mDisplayManagerInternal.getDisplayInfo(p1);
	this.mWindowManager.setDisplayImePolicy(p1, 0);
	return;
}
-----
","NONE"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Ljava/lang/String;)I","2","69 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createWindowPolicyController()Lcom/android/server/companion/virtual/GenericWindowPolicyController; > 40 @52 exception:68,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = new <Application,Lcom/android/server/companion/virtual/GenericWindowPolicyController>@3,
7 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getAllowedUserHandles()Landroid/util/ArraySet; > 1 @9 exception:6,
2 = new <Application,Landroid/util/ArraySet>@0,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
5 = load_metadata: <Application,Landroid/app/admin/DevicePolicyManager>, <Primordial,Ljava/lang/Class>,
8 = checkcast <Application,Landroid/app/admin/DevicePolicyManager>7 <Application,Landroid/app/admin/DevicePolicyManager>,
9 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
10 = load_metadata: <Application,Landroid/os/UserManager>, <Primordial,Ljava/lang/Class>,
13 = checkcast <Application,Landroid/os/UserManager>12 <Application,Landroid/os/UserManager>,
conditional branch(eq, to iindex=-1) 19,20,
return 2,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
10 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedCrossTaskNavigations()Ljava/util/Set; > 8 @15 exception:9,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mAllowedCrossTaskNavigations, <Application,Landroid/util/ArraySet> > 1,
return 4,
11 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
13 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedCrossTaskNavigations()Ljava/util/Set; > 11 @21 exception:12,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mBlockedCrossTaskNavigations, <Application,Landroid/util/ArraySet> > 1,
return 4,
14 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
16 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedActivities()Ljava/util/Set; > 14 @27 exception:15,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mAllowedActivities, <Application,Landroid/util/ArraySet> > 1,
return 4,
17 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
19 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedActivities()Ljava/util/Set; > 17 @33 exception:18,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mBlockedActivities, <Application,Landroid/util/ArraySet> > 1,
return 4,
20 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
22 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getDefaultActivityPolicy()I > 20 @39 exception:21,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mDefaultActivityPolicy, <Primordial,I> > 1,
return 2,
24 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createListenerAdapter()Landroid/companion/virtual/VirtualDeviceManager$ActivityListener; > 1 @43 exception:23,
2 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$1>@0,
return 2,
25 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda2>@47,
27 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda3>@52,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mAssociationInfo, <Application,Landroid/companion/AssociationInfo> > 1,
31 = invokevirtual < Application, Landroid/companion/AssociationInfo, getDeviceProfile()Ljava/lang/String; > 29 @59 exception:30,
2 = getfield < Application, Landroid/companion/AssociationInfo, mDeviceProfile, <Application,Ljava/lang/String> > 1,
return 2,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, registerRunningAppsChangedListener(Lcom/android/server/companion/virtual/GenericWindowPolicyController$RunningAppsChangedListener;)V > 3,1 @67 exception:33,
3 = getfield < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, mRunningAppsChangedListener, <Application,Landroid/util/ArraySet> > 1,
return,
monitorexit 2,
return 3,
73 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
74 = load_metadata: <Application,Landroid/hardware/display/DisplayManagerInternal>, <Primordial,Ljava/lang/Class>,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, access$000(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;Ljava/lang/Class;)Ljava/lang/Object; > 73,74 @63 exception:75,
77 = checkcast <Application,Landroid/hardware/display/DisplayManagerInternal>76 <Application,Landroid/hardware/display/DisplayManagerInternal>,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, onVirtualDisplayCreatedLocked(Lcom/android/server/companion/virtual/GenericWindowPolicyController;I)V > 40,69,79 @83 exception:82,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 4,
conditional branch(ne, to iindex=-1) 3,5,
6 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
conditional branch(ne, to iindex=-1) 10,11,
23 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, setDisplayId(I)V > 2,3 @29 exception:28,
putfield 1.< Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, mDisplayId, <Primordial,I> > = 2,
return,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mWindowPolicyControllers, <Application,Landroid/util/SparseArray> > 1,
31 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
32 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mDefaultShowPointerIcon, <Primordial,Z> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setShowPointerIcon(ZI)V > 31,32,3 @41 exception:33,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
return,
34 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setPointerAcceleration(FI)V > 34,35,3 @48 exception:36,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
return,
37 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setDisplayEligibilityForPointerCapture(ZI)V > 37,11,3 @54 exception:38,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
return,
39 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setLocalIme(I)V > 39,3 @59 exception:40,
3 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mDisplayManagerInternal, <Application,Landroid/hardware/display/DisplayManagerInternal> > 1,
6 = getfield < Application, Landroid/view/DisplayInfo, flags, <Primordial,I> > 5,
8 = binaryop(and) 6 , 7,
conditional branch(ne, to iindex=-1) 8,7,
return,
41 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
conditional branch(eq, to iindex=-1) 45,11,
46 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
47 = load_metadata: <Application,Landroid/os/PowerManager>, <Primordial,Ljava/lang/Class>,
50 = checkcast <Application,Landroid/os/PowerManager>49 <Application,Landroid/os/PowerManager>,
52 = new <Application,Ljava/lang/StringBuilder>@110,
63 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
invokevirtual < Application, Landroid/os/PowerManager$WakeLock, acquire()V > 62 @140 exception:68,
monitorexit 4,
return,
86 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
88 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmLocalService(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal; > 86 @91 exception:87,
return 79,","depth : 0
public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v10 = v7.createWindowPolicyController();
	Binder.restoreCallingIdentity(v9);
	Object v12 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v13 = v12.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v14 = Binder.clearCallingIdentity();
	v7.onVirtualDisplayCreatedLocked(v10, v13);
	Binder.restoreCallingIdentity(v14);
	VirtualDeviceManagerInternal v17 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v17.onVirtualDisplayCreated(v13);
	return v13;
}
-----
depth : 1
public GenericWindowPolicyController createWindowPolicyController(){
	GenericWindowPolicyController v0 = new GenericWindowPolicyController(8192,524288,v1,v2,v3,v4,v5,v6,v7,v7,v8,v10);
	ArraySet v1 = p0.getAllowedUserHandles();
	Set v2 = this.mParams.getAllowedCrossTaskNavigations();
	Set v3 = this.mParams.getBlockedCrossTaskNavigations();
	Set v4 = this.mParams.getAllowedActivities();
	Set v5 = this.mParams.getBlockedActivities();
	int v6 = this.mParams.getDefaultActivityPolicy();
	VirtualDeviceManager$ActivityListener v7 = p0.createListenerAdapter();
	VirtualDeviceImpl$$ExternalSyntheticLambda2 v7 = new VirtualDeviceImpl$$ExternalSyntheticLambda2(p0);
	VirtualDeviceImpl$$ExternalSyntheticLambda3 v8 = new VirtualDeviceImpl$$ExternalSyntheticLambda3(p0);
	String v10 = this.mAssociationInfo.getDeviceProfile();
	v0.registerRunningAppsChangedListener(p0);
	return v0;
}
-----
depth : 2
public ArraySet getAllowedUserHandles(){
	ArraySet v0 = new ArraySet();
	Object v2 = this.mContext.getSystemService(DevicePolicyManage.class);
	Object v3 = this.mContext.getSystemService(UserManage.class);
	List v4 = v3.getAllProfiles();
	Iterator v5 = v4.iterator();
	boolean v6 = v5.hasNext();
	return v0;
}
-----
depth : 2
public Set getAllowedCrossTaskNavigations(){
	Set v1 = Collections.unmodifiableSet(this.mAllowedCrossTaskNavigations);
	return v1;
}
-----
depth : 2
public Set getBlockedCrossTaskNavigations(){
	Set v1 = Collections.unmodifiableSet(this.mBlockedCrossTaskNavigations);
	return v1;
}
-----
depth : 2
public Set getAllowedActivities(){
	Set v1 = Collections.unmodifiableSet(this.mAllowedActivities);
	return v1;
}
-----
depth : 2
public Set getBlockedActivities(){
	Set v1 = Collections.unmodifiableSet(this.mBlockedActivities);
	return v1;
}
-----
depth : 2
public int getDefaultActivityPolicy(){
	return this.mDefaultActivityPolicy;
}
-----
depth : 2
public VirtualDeviceManager$ActivityListener createListenerAdapter(){
	VirtualDeviceImpl$1 v0 = new VirtualDeviceImpl$1(p0);
	return v0;
}
-----
depth : 2
public String getDeviceProfile(){
	return this.mDeviceProfile;
}
-----
depth : 2
public void registerRunningAppsChangedListener(GenericWindowPolicyController$RunningAppsChangedListener p1){
	boolean v1 = this.mRunningAppsChangedListener.add(p1);
	return;
}
-----
depth : 1
public void onVirtualDisplayCreatedLocked(GenericWindowPolicyController p1, int p2){
	Integer v1 = Integer.valueOf(p2);
	boolean v2 = this.mVirtualDisplayIds.contains(v1);
	Integer v3 = Integer.valueOf(p2);
	boolean v4 = this.mVirtualDisplayIds.add(v3);
	p1.setDisplayId(p2);
	this.mWindowPolicyControllers.put(p2, p1);
	this.mInputController.setShowPointerIcon(this.mDefaultShowPointerIcon, p2);
	this.mInputController.setPointerAcceleration(1065353216, p2);
	this.mInputController.setDisplayEligibilityForPointerCapture(0, p2);
	this.mInputController.setLocalIme(p2);
	Integer v11 = Integer.valueOf(p2);
	boolean v12 = this.mPerDisplayWakelocks.containsKey(v11);
	Object v13 = this.mContext.getSystemService(PowerManage.class);
	StringBuilder v13 = new StringBuilder();
	StringBuilder v15 = v13.append(""VirtualDeviceImpl:"");
	StringBuilder v16 = v13.append(p2);
	String v17 = v13.toString();
	PowerManager$WakeLock v18 = v13.newWakeLock(10, v17, p2);
	Integer v19 = Integer.valueOf(p2);
	Object v20 = this.mPerDisplayWakelocks.put(v19, v18);
	v18.acquire();
	return;
}
-----
depth : 2
public void setDisplayId(int p1){
	this.mDisplayId = p1;
	return;
}
-----
depth : 2
public void setShowPointerIcon(boolean p1, int p2){
	this.mInputManagerInternal.setPointerIconVisible(p1, p2);
	return;
}
-----
depth : 2
public void setPointerAcceleration(float p1, int p2){
	this.mInputManagerInternal.setPointerAcceleration(p1, p2);
	return;
}
-----
depth : 2
public void setDisplayEligibilityForPointerCapture(boolean p1, int p2){
	this.mInputManagerInternal.setDisplayEligibilityForPointerCapture(p2, p1);
	return;
}
-----
depth : 2
public void setLocalIme(int p1){
	DisplayInfo v1 = this.mDisplayManagerInternal.getDisplayInfo(p1);
	return;
}
-----
","NONE"


"Class","Method","Depth","Trace Instruction(s) ...","Java Code Representation","Code Merged","Access Control Level"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","0","7 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
9 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 7 @8 exception:8,
invokevirtual < Application, Landroid/content/Context, enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V > 9,10,11 @16 exception:12,
14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
17 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 15 @25 exception:16,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
57 = invokevirtual < Application, Landroid/util/SparseArray, contains(I)Z > 55,4 @54 exception:56,
conditional branch(ne, to iindex=-1) 57,20,
73 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 14 @60 exception:72,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
78 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 76,73 @70 exception:77,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
83 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 81 @81 exception:82,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;I)V > 84,1,79,73 @87 exception:85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;Landroid/companion/AssociationInfo;)V > 86,1,79,38 @92 exception:87,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, <init>(Landroid/content/Context;Landroid/companion/AssociationInfo;Landroid/os/IBinder;ILcom/android/server/companion/virtual/VirtualDeviceImpl$OnDeviceCloseListener;Lcom/android/server/companion/virtual/VirtualDeviceImpl$PendingTrampolineCallback;Landroid/companion/virtual/IVirtualDeviceActivityListener;Ljava/util/function/Consumer;Landroid/companion/virtual/VirtualDeviceParams;)V > 80,83,38,2,14,84,1,6,86,5 @105 exception:88,
conditional branch(eq, to iindex=-1) 79,20,
90 = new <Application,Ljava/lang/StringBuilder>@116,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 90 @118 exception:91,
94 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 90,92 @123 exception:93,
96 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 90,73 @126 exception:95,
98 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 90 @129 exception:97,
100 = invokestatic < Application, Landroid/util/Slog, w(Ljava/lang/String;Ljava/lang/String;)I > 89,98 @133 exception:99,
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
invokevirtual < Application, Landroid/util/SparseArray, put(ILjava/lang/Object;)V > 109,111,80 @146 exception:112,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	StringBuilder v16 = new StringBuilder();
	StringBuilder v18 = v16.append(""cameraAccessController not found for user "");
	StringBuilder v19 = v16.append(v10);
	String v20 = v16.toString();
	int v21 = Slog.w(""VirtualDeviceManagerService"", v20);
	SparseArray v22 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v23 = v6.getId();
	v22.put(v23, v12);
	return v12;
}
-----
","public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v13 = new VirtualDeviceImpl(v14,v6,p1,v3,v15,p0,p5,v17,p4);
	Context v14 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v15 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v17 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	SparseArray v26 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v27 = v6.getId();
	v26.put(v27, v13);
	return v13;
}
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","1","7 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
9 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 7 @8 exception:8,
invokevirtual < Application, Landroid/content/Context, enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V > 9,10,11 @16 exception:12,
14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
17 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 15 @25 exception:16,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
6 = invokestatic < Application, Landroid/os/Binder, getCallingUid()I > @5 exception:5,
8 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @9 exception:7,
11 = invokevirtual < Application, Landroid/content/Context, getPackageManager()Landroid/content/pm/PackageManager; > 1 @14 exception:10,
13 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 6 @18 exception:12,
15 = invokevirtual < Application, Landroid/content/pm/PackageManager, getPackageUidAsUser(Ljava/lang/String;I)I > 11,2,13 @22 exception:14,
conditional branch(eq, to iindex=-1) 15,6,
18 = new <Application,Ljava/lang/StringBuilder>@28,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 18 @30 exception:19,
21 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,3 @33 exception:20,
23 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,2 @36 exception:22,
26 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,24 @41 exception:25,
28 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,15 @44 exception:27,
31 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,29 @49 exception:30,
33 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,6 @52 exception:32,
35 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 18 @55 exception:34,
37 = invokestatic < Application, Landroid/util/Slog, e(Ljava/lang/String;Ljava/lang/String;)I > 4,35 @59 exception:36,
42 = new <Application,Ljava/lang/StringBuilder>@73,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 42 @75 exception:43,
45 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,3 @78 exception:44,
47 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,2 @81 exception:46,
50 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,48 @86 exception:49,
52 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 42 @89 exception:51,
54 = invokestatic < Application, Landroid/util/Slog, e(Ljava/lang/String;Ljava/lang/String;)I > 4,52 @93 exception:53,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 8 @96 exception:55,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
5 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUserHandle()Landroid/os/UserHandle; > @0 exception:4,
7 = invokevirtual < Application, Landroid/os/UserHandle, getIdentifier()I > 5 @4 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
12 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 7 @14 exception:11,
14 = invokevirtual < Application, Ljava/util/concurrent/ConcurrentHashMap, get(Ljava/lang/Object;)Ljava/lang/Object; > 10,12 @18 exception:13,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
17 = new <Application,Ljava/lang/StringBuilder>@55,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 17 @57 exception:18,
21 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 17,19 @62 exception:20,
23 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 17,7 @65 exception:22,
25 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 17 @68 exception:24,
28 = invokestatic < Application, Landroid/util/Slog, w(Ljava/lang/String;Ljava/lang/String;)I > 26,25 @74 exception:27,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDeviceManagerLock, <Application,Ljava/lang/Object> > 1,
return 2,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDevices, <Application,Landroid/util/SparseArray> > 1,
return 2,
57 = invokevirtual < Application, Landroid/util/SparseArray, contains(I)Z > 55,4 @54 exception:56,
conditional branch(ne, to iindex=-1) 57,20,
73 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 14 @60 exception:72,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mCameraAccessControllers, <Application,Landroid/util/SparseArray> > 1,
return 2,
78 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 76,73 @70 exception:77,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
83 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 81 @81 exception:82,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;I)V > 84,1,79,73 @87 exception:85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;Landroid/companion/AssociationInfo;)V > 86,1,79,38 @92 exception:87,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, <init>(Landroid/content/Context;Landroid/companion/AssociationInfo;Landroid/os/IBinder;ILcom/android/server/companion/virtual/VirtualDeviceImpl$OnDeviceCloseListener;Lcom/android/server/companion/virtual/VirtualDeviceImpl$PendingTrampolineCallback;Landroid/companion/virtual/IVirtualDeviceActivityListener;Ljava/util/function/Consumer;Landroid/companion/virtual/VirtualDeviceParams;)V > 80,83,38,2,14,84,1,6,86,5 @105 exception:88,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
8 = invokevirtual < Application, Landroid/content/Context, getMainExecutor()Ljava/util/concurrent/Executor; > 6 @11 exception:7,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDevices, <Application,Landroid/util/SparseArray> > 1,
return 2,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
2 = getfield < Application, Landroid/companion/AssociationInfo, mId, <Primordial,I> > 1,
return 2,
invokevirtual < Application, Landroid/util/SparseArray, put(ILjava/lang/Object;)V > 109,111,80 @146 exception:112,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""validatePackageName: App with package name "");
	StringBuilder v8 = v5.append(p2);
	StringBuilder v9 = v5.append("" is UID "");
	StringBuilder v10 = v5.append(v5);
	StringBuilder v11 = v5.append("" but caller is "");
	StringBuilder v12 = v5.append(v1);
	String v13 = v5.toString();
	int v14 = Slog.e(""VDM.PermissionUtils"", v13);
	StringBuilder v14 = new StringBuilder();
	StringBuilder v16 = v14.append(""validatePackageName: App with package name "");
	StringBuilder v17 = v14.append(p2);
	StringBuilder v18 = v14.append("" does not exist"");
	String v19 = v14.toString();
	int v20 = Slog.e(""VDM.PermissionUtils"", v19);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""No associations for user "");
	StringBuilder v8 = v5.append(v2);
	String v9 = v5.toString();
	int v10 = Slog.w(""VirtualDeviceManagerService"", v9);
	return 0;
}
-----
depth : 1
public Object -$$Nest$fgetmVirtualDeviceManagerLock(VirtualDeviceManagerService p1){
	return this.mVirtualDeviceManagerLock;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmVirtualDevices(VirtualDeviceManagerService p1){
	return this.mVirtualDevices;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmCameraAccessControllers(VirtualDeviceManagerService p1){
	return this.mCameraAccessControllers;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmVirtualDevices(VirtualDeviceManagerService p1){
	return this.mVirtualDevices;
}
-----
depth : 1
public int getId(){
	return this.mId;
}
-----
","public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	Binder.restoreCallingIdentity(v7);
	boolean v5 = 0;
	UserHandle v30 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v31 = v30.getIdentifier();
	ConcurrentHashMap v32 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v33 = Integer.valueOf(v31);
	Object v34 = v32.get(v33);
	AssociationInfo v29 = 0;
	Object v41 = this.mVirtualDeviceManagerLock;
	SparseArray v42 = this.mVirtualDevices;
	boolean v43 = v42.contains(p3);
	int v44 = UserHandle.getUserId(v3);
	SparseArray v45 = this.mCameraAccessControllers;
	Object v46 = v45.get(v44);
	VirtualDeviceImpl v47 = new VirtualDeviceImpl(v48,v29,p1,v3,v49,p0,p5,v51,p4);
	Context v48 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v49 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v46,v44);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v51 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v46,v29);
	Executor v55 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v55, CameraAccessController);
	this.mObserverCount = (this.mObserverCount + 1);
	SparseArray v57 = this.mVirtualDevices;
	int v58 = this.mId;
	v57.put(v58, v47);
	return v47;
}
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","1","7 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
9 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 7 @8 exception:8,
invokevirtual < Application, Landroid/content/Context, enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V > 9,10,11 @16 exception:12,
14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
17 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 15 @25 exception:16,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
6 = invokestatic < Application, Landroid/os/Binder, getCallingUid()I > @5 exception:5,
8 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @9 exception:7,
11 = invokevirtual < Application, Landroid/content/Context, getPackageManager()Landroid/content/pm/PackageManager; > 1 @14 exception:10,
13 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 6 @18 exception:12,
15 = invokevirtual < Application, Landroid/content/pm/PackageManager, getPackageUidAsUser(Ljava/lang/String;I)I > 11,2,13 @22 exception:14,
conditional branch(eq, to iindex=-1) 15,6,
18 = new <Application,Ljava/lang/StringBuilder>@28,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 18 @30 exception:19,
21 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,3 @33 exception:20,
23 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,2 @36 exception:22,
26 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,24 @41 exception:25,
28 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,15 @44 exception:27,
31 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,29 @49 exception:30,
33 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,6 @52 exception:32,
35 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 18 @55 exception:34,
37 = invokestatic < Application, Landroid/util/Slog, e(Ljava/lang/String;Ljava/lang/String;)I > 4,35 @59 exception:36,
42 = new <Application,Ljava/lang/StringBuilder>@73,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 42 @75 exception:43,
45 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,3 @78 exception:44,
47 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,2 @81 exception:46,
50 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,48 @86 exception:49,
52 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 42 @89 exception:51,
54 = invokestatic < Application, Landroid/util/Slog, e(Ljava/lang/String;Ljava/lang/String;)I > 4,52 @93 exception:53,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 8 @96 exception:55,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
5 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUserHandle()Landroid/os/UserHandle; > @0 exception:4,
7 = invokevirtual < Application, Landroid/os/UserHandle, getIdentifier()I > 5 @4 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
12 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 7 @14 exception:11,
14 = invokevirtual < Application, Ljava/util/concurrent/ConcurrentHashMap, get(Ljava/lang/Object;)Ljava/lang/Object; > 10,12 @18 exception:13,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
30 = invokeinterface < Application, Ljava/util/List, size()I > 15 @26 exception:29,
43 = phi  42,16,
conditional branch(ge, to iindex=-1) 43,30,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDeviceManagerLock, <Application,Ljava/lang/Object> > 1,
return 2,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDevices, <Application,Landroid/util/SparseArray> > 1,
return 2,
57 = invokevirtual < Application, Landroid/util/SparseArray, contains(I)Z > 55,4 @54 exception:56,
conditional branch(ne, to iindex=-1) 57,20,
73 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 14 @60 exception:72,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mCameraAccessControllers, <Application,Landroid/util/SparseArray> > 1,
return 2,
78 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 76,73 @70 exception:77,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
83 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 81 @81 exception:82,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;I)V > 84,1,79,73 @87 exception:85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;Landroid/companion/AssociationInfo;)V > 86,1,79,38 @92 exception:87,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, <init>(Landroid/content/Context;Landroid/companion/AssociationInfo;Landroid/os/IBinder;ILcom/android/server/companion/virtual/VirtualDeviceImpl$OnDeviceCloseListener;Lcom/android/server/companion/virtual/VirtualDeviceImpl$PendingTrampolineCallback;Landroid/companion/virtual/IVirtualDeviceActivityListener;Ljava/util/function/Consumer;Landroid/companion/virtual/VirtualDeviceParams;)V > 80,83,38,2,14,84,1,6,86,5 @105 exception:88,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
8 = invokevirtual < Application, Landroid/content/Context, getMainExecutor()Ljava/util/concurrent/Executor; > 6 @11 exception:7,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mVirtualDevices, <Application,Landroid/util/SparseArray> > 1,
return 2,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
2 = getfield < Application, Landroid/companion/AssociationInfo, mId, <Primordial,I> > 1,
return 2,
invokevirtual < Application, Landroid/util/SparseArray, put(ILjava/lang/Object;)V > 109,111,80 @146 exception:112,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""validatePackageName: App with package name "");
	StringBuilder v8 = v5.append(p2);
	StringBuilder v9 = v5.append("" is UID "");
	StringBuilder v10 = v5.append(v5);
	StringBuilder v11 = v5.append("" but caller is "");
	StringBuilder v12 = v5.append(v1);
	String v13 = v5.toString();
	int v14 = Slog.e(""VDM.PermissionUtils"", v13);
	StringBuilder v14 = new StringBuilder();
	StringBuilder v16 = v14.append(""validatePackageName: App with package name "");
	StringBuilder v17 = v14.append(p2);
	StringBuilder v18 = v14.append("" does not exist"");
	String v19 = v14.toString();
	int v20 = Slog.e(""VDM.PermissionUtils"", v19);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	int v6 = v5.size();
	return 0;
}
-----
depth : 1
public Object -$$Nest$fgetmVirtualDeviceManagerLock(VirtualDeviceManagerService p1){
	return this.mVirtualDeviceManagerLock;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmVirtualDevices(VirtualDeviceManagerService p1){
	return this.mVirtualDevices;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmCameraAccessControllers(VirtualDeviceManagerService p1){
	return this.mCameraAccessControllers;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 1
public SparseArray -$$Nest$fgetmVirtualDevices(VirtualDeviceManagerService p1){
	return this.mVirtualDevices;
}
-----
depth : 1
public int getId(){
	return this.mId;
}
-----
","public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	Binder.restoreCallingIdentity(v7);
	boolean v5 = 0;
	UserHandle v30 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v31 = v30.getIdentifier();
	ConcurrentHashMap v32 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v33 = Integer.valueOf(v31);
	Object v34 = v32.get(v33);
	int v35 = v34.size();
	AssociationInfo v29 = 0;
	Object v36 = this.mVirtualDeviceManagerLock;
	SparseArray v37 = this.mVirtualDevices;
	boolean v38 = v37.contains(p3);
	int v39 = UserHandle.getUserId(v3);
	SparseArray v40 = this.mCameraAccessControllers;
	Object v41 = v40.get(v39);
	VirtualDeviceImpl v42 = new VirtualDeviceImpl(v43,v29,p1,v3,v44,p0,p5,v46,p4);
	Context v43 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v44 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v41,v39);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v46 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v41,v29);
	Executor v50 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v50, CameraAccessController);
	this.mObserverCount = (this.mObserverCount + 1);
	SparseArray v52 = this.mVirtualDevices;
	int v53 = this.mId;
	v52.put(v53, v42);
	return v42;
}
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","2","7 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
9 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 7 @8 exception:8,
invokevirtual < Application, Landroid/content/Context, enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V > 9,10,11 @16 exception:12,
14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
17 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 15 @25 exception:16,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
6 = invokestatic < Application, Landroid/os/Binder, getCallingUid()I > @5 exception:5,
8 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @9 exception:7,
11 = invokevirtual < Application, Landroid/content/Context, getPackageManager()Landroid/content/pm/PackageManager; > 1 @14 exception:10,
13 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 6 @18 exception:12,
15 = invokevirtual < Application, Landroid/content/pm/PackageManager, getPackageUidAsUser(Ljava/lang/String;I)I > 11,2,13 @22 exception:14,
conditional branch(eq, to iindex=-1) 15,6,
18 = new <Application,Ljava/lang/StringBuilder>@28,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 18 @30 exception:19,
21 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,3 @33 exception:20,
23 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,2 @36 exception:22,
26 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,24 @41 exception:25,
28 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,15 @44 exception:27,
31 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,29 @49 exception:30,
33 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,6 @52 exception:32,
35 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 18 @55 exception:34,
37 = invokestatic < Application, Landroid/util/Slog, e(Ljava/lang/String;Ljava/lang/String;)I > 4,35 @59 exception:36,
42 = new <Application,Ljava/lang/StringBuilder>@73,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 42 @75 exception:43,
45 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,3 @78 exception:44,
47 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,2 @81 exception:46,
50 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,48 @86 exception:49,
52 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 42 @89 exception:51,
54 = invokestatic < Application, Landroid/util/Slog, e(Ljava/lang/String;Ljava/lang/String;)I > 4,52 @93 exception:53,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 8 @96 exception:55,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
5 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUserHandle()Landroid/os/UserHandle; > @0 exception:4,
7 = invokevirtual < Application, Landroid/os/UserHandle, getIdentifier()I > 5 @4 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mAllAssociations, <Application,Ljava/util/concurrent/ConcurrentHashMap> > 1,
return 2,
12 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 7 @14 exception:11,
14 = invokevirtual < Application, Ljava/util/concurrent/ConcurrentHashMap, get(Ljava/lang/Object;)Ljava/lang/Object; > 10,12 @18 exception:13,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
17 = new <Application,Ljava/lang/StringBuilder>@55,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 17 @57 exception:18,
21 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 17,19 @62 exception:20,
23 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 17,7 @65 exception:22,
25 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 17 @68 exception:24,
28 = invokestatic < Application, Landroid/util/Slog, w(Ljava/lang/String;Ljava/lang/String;)I > 26,25 @74 exception:27,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
57 = invokevirtual < Application, Landroid/util/SparseArray, contains(I)Z > 55,4 @54 exception:56,
conditional branch(ne, to iindex=-1) 57,20,
73 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 14 @60 exception:72,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
78 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 76,73 @70 exception:77,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
83 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 81 @81 exception:82,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;I)V > 84,1,79,73 @87 exception:85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;Landroid/companion/AssociationInfo;)V > 86,1,79,38 @92 exception:87,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, <init>(Landroid/content/Context;Landroid/companion/AssociationInfo;Landroid/os/IBinder;ILcom/android/server/companion/virtual/VirtualDeviceImpl$OnDeviceCloseListener;Lcom/android/server/companion/virtual/VirtualDeviceImpl$PendingTrampolineCallback;Landroid/companion/virtual/IVirtualDeviceActivityListener;Ljava/util/function/Consumer;Landroid/companion/virtual/VirtualDeviceParams;)V > 80,83,38,2,14,84,1,6,86,5 @105 exception:88,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
8 = invokevirtual < Application, Landroid/content/Context, getMainExecutor()Ljava/util/concurrent/Executor; > 6 @11 exception:7,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
conditional branch(eq, to iindex=-1) 2,4,
9 = invokestatic < Application, Landroid/hardware/camera2/CameraManager$CameraManagerGlobal, get()Landroid/hardware/camera2/CameraManager$CameraManagerGlobal; > @2 exception:8,
10 = getfield < Application, Landroid/hardware/camera2/CameraManager, mHasOpenCloseListenerPermission, <Primordial,Z> > 1,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager$CameraManagerGlobal, registerAvailabilityCallback(Landroid/hardware/camera2/CameraManager$AvailabilityCallback;Ljava/util/concurrent/Executor;Z)V > 9,3,2,10 @8 exception:11,
return,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
invokevirtual < Application, Landroid/util/SparseArray, put(ILjava/lang/Object;)V > 109,111,80 @146 exception:112,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""validatePackageName: App with package name "");
	StringBuilder v8 = v5.append(p2);
	StringBuilder v9 = v5.append("" is UID "");
	StringBuilder v10 = v5.append(v5);
	StringBuilder v11 = v5.append("" but caller is "");
	StringBuilder v12 = v5.append(v1);
	String v13 = v5.toString();
	int v14 = Slog.e(""VDM.PermissionUtils"", v13);
	StringBuilder v14 = new StringBuilder();
	StringBuilder v16 = v14.append(""validatePackageName: App with package name "");
	StringBuilder v17 = v14.append(p2);
	StringBuilder v18 = v14.append("" does not exist"");
	String v19 = v14.toString();
	int v20 = Slog.e(""VDM.PermissionUtils"", v19);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""No associations for user "");
	StringBuilder v8 = v5.append(v2);
	String v9 = v5.toString();
	int v10 = Slog.w(""VirtualDeviceManagerService"", v9);
	return 0;
}
-----
depth : 2
public ConcurrentHashMap -$$Nest$fgetmAllAssociations(VirtualDeviceManagerService p1){
	return this.mAllAssociations;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 2
public void registerAvailabilityCallback(Executor p1, CameraManager$AvailabilityCallback p2){
	CameraManager$CameraManagerGlobal v1 = CameraManager$CameraManagerGlobal.get();
	v1.registerAvailabilityCallback(p2, p1, this.mHasOpenCloseListenerPermission);
	return;
}
-----
","public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	Binder.restoreCallingIdentity(v7);
	boolean v5 = 0;
	UserHandle v30 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v31 = v30.getIdentifier();
	ConcurrentHashMap v32 = this.mAllAssociations;
	Integer v33 = Integer.valueOf(v31);
	Object v34 = v32.get(v33);
	AssociationInfo v29 = 0;
	Object v41 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v42 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v43 = v42.contains(p3);
	int v44 = UserHandle.getUserId(v3);
	SparseArray v45 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v46 = v45.get(v44);
	VirtualDeviceImpl v47 = new VirtualDeviceImpl(v48,v29,p1,v3,v49,p0,p5,v51,p4);
	Context v48 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v49 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v46,v44);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v51 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v46,v29);
	Executor v55 = this.mContext.getMainExecutor();
	CameraManager$CameraManagerGlobal v57 = CameraManager$CameraManagerGlobal.get();
	v57.registerAvailabilityCallback(p0, v55, this.mHasOpenCloseListenerPermission);
	this.mObserverCount = (this.mObserverCount + 1);
	SparseArray v59 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v60 = v29.getId();
	v59.put(v60, v47);
	return v47;
}
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","2","7 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
9 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 7 @8 exception:8,
invokevirtual < Application, Landroid/content/Context, enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V > 9,10,11 @16 exception:12,
14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
17 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 15 @25 exception:16,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
6 = invokestatic < Application, Landroid/os/Binder, getCallingUid()I > @5 exception:5,
8 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @9 exception:7,
11 = invokevirtual < Application, Landroid/content/Context, getPackageManager()Landroid/content/pm/PackageManager; > 1 @14 exception:10,
13 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 6 @18 exception:12,
15 = invokevirtual < Application, Landroid/content/pm/PackageManager, getPackageUidAsUser(Ljava/lang/String;I)I > 11,2,13 @22 exception:14,
conditional branch(eq, to iindex=-1) 15,6,
18 = new <Application,Ljava/lang/StringBuilder>@28,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 18 @30 exception:19,
21 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,3 @33 exception:20,
23 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,2 @36 exception:22,
26 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,24 @41 exception:25,
28 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,15 @44 exception:27,
31 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,29 @49 exception:30,
33 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,6 @52 exception:32,
35 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 18 @55 exception:34,
37 = invokestatic < Application, Landroid/util/Slog, e(Ljava/lang/String;Ljava/lang/String;)I > 4,35 @59 exception:36,
42 = new <Application,Ljava/lang/StringBuilder>@73,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 42 @75 exception:43,
45 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,3 @78 exception:44,
47 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,2 @81 exception:46,
50 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 42,48 @86 exception:49,
52 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 42 @89 exception:51,
54 = invokestatic < Application, Landroid/util/Slog, e(Ljava/lang/String;Ljava/lang/String;)I > 4,52 @93 exception:53,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 8 @96 exception:55,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
5 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUserHandle()Landroid/os/UserHandle; > @0 exception:4,
7 = invokevirtual < Application, Landroid/os/UserHandle, getIdentifier()I > 5 @4 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mAllAssociations, <Application,Ljava/util/concurrent/ConcurrentHashMap> > 1,
return 2,
12 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 7 @14 exception:11,
14 = invokevirtual < Application, Ljava/util/concurrent/ConcurrentHashMap, get(Ljava/lang/Object;)Ljava/lang/Object; > 10,12 @18 exception:13,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
30 = invokeinterface < Application, Ljava/util/List, size()I > 15 @26 exception:29,
43 = phi  42,16,
conditional branch(ge, to iindex=-1) 43,30,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
57 = invokevirtual < Application, Landroid/util/SparseArray, contains(I)Z > 55,4 @54 exception:56,
conditional branch(ne, to iindex=-1) 57,20,
73 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 14 @60 exception:72,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
78 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 76,73 @70 exception:77,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
83 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 81 @81 exception:82,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;I)V > 84,1,79,73 @87 exception:85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;Landroid/companion/AssociationInfo;)V > 86,1,79,38 @92 exception:87,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, <init>(Landroid/content/Context;Landroid/companion/AssociationInfo;Landroid/os/IBinder;ILcom/android/server/companion/virtual/VirtualDeviceImpl$OnDeviceCloseListener;Lcom/android/server/companion/virtual/VirtualDeviceImpl$PendingTrampolineCallback;Landroid/companion/virtual/IVirtualDeviceActivityListener;Ljava/util/function/Consumer;Landroid/companion/virtual/VirtualDeviceParams;)V > 80,83,38,2,14,84,1,6,86,5 @105 exception:88,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
8 = invokevirtual < Application, Landroid/content/Context, getMainExecutor()Ljava/util/concurrent/Executor; > 6 @11 exception:7,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
conditional branch(eq, to iindex=-1) 2,4,
9 = invokestatic < Application, Landroid/hardware/camera2/CameraManager$CameraManagerGlobal, get()Landroid/hardware/camera2/CameraManager$CameraManagerGlobal; > @2 exception:8,
10 = getfield < Application, Landroid/hardware/camera2/CameraManager, mHasOpenCloseListenerPermission, <Primordial,Z> > 1,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager$CameraManagerGlobal, registerAvailabilityCallback(Landroid/hardware/camera2/CameraManager$AvailabilityCallback;Ljava/util/concurrent/Executor;Z)V > 9,3,2,10 @8 exception:11,
return,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
invokevirtual < Application, Landroid/util/SparseArray, put(ILjava/lang/Object;)V > 109,111,80 @146 exception:112,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""validatePackageName: App with package name "");
	StringBuilder v8 = v5.append(p2);
	StringBuilder v9 = v5.append("" is UID "");
	StringBuilder v10 = v5.append(v5);
	StringBuilder v11 = v5.append("" but caller is "");
	StringBuilder v12 = v5.append(v1);
	String v13 = v5.toString();
	int v14 = Slog.e(""VDM.PermissionUtils"", v13);
	StringBuilder v14 = new StringBuilder();
	StringBuilder v16 = v14.append(""validatePackageName: App with package name "");
	StringBuilder v17 = v14.append(p2);
	StringBuilder v18 = v14.append("" does not exist"");
	String v19 = v14.toString();
	int v20 = Slog.e(""VDM.PermissionUtils"", v19);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	int v6 = v5.size();
	return 0;
}
-----
depth : 2
public ConcurrentHashMap -$$Nest$fgetmAllAssociations(VirtualDeviceManagerService p1){
	return this.mAllAssociations;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 2
public void registerAvailabilityCallback(Executor p1, CameraManager$AvailabilityCallback p2){
	CameraManager$CameraManagerGlobal v1 = CameraManager$CameraManagerGlobal.get();
	v1.registerAvailabilityCallback(p2, p1, this.mHasOpenCloseListenerPermission);
	return;
}
-----
","public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	Binder.restoreCallingIdentity(v7);
	boolean v5 = 0;
	UserHandle v30 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v31 = v30.getIdentifier();
	ConcurrentHashMap v32 = this.mAllAssociations;
	Integer v33 = Integer.valueOf(v31);
	Object v34 = v32.get(v33);
	int v35 = v34.size();
	AssociationInfo v29 = 0;
	Object v36 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v37 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v38 = v37.contains(p3);
	int v39 = UserHandle.getUserId(v3);
	SparseArray v40 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v41 = v40.get(v39);
	VirtualDeviceImpl v42 = new VirtualDeviceImpl(v43,v29,p1,v3,v44,p0,p5,v46,p4);
	Context v43 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v44 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v41,v39);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v46 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v41,v29);
	Executor v50 = this.mContext.getMainExecutor();
	CameraManager$CameraManagerGlobal v52 = CameraManager$CameraManagerGlobal.get();
	v52.registerAvailabilityCallback(p0, v50, this.mHasOpenCloseListenerPermission);
	this.mObserverCount = (this.mObserverCount + 1);
	SparseArray v54 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v55 = v29.getId();
	v54.put(v55, v42);
	return v42;
}
","NORMAL"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDevice(Landroid/os/IBinder;Ljava/lang/String;ILandroid/companion/virtual/VirtualDeviceParams;Landroid/companion/virtual/IVirtualDeviceActivityListener;)Landroid/companion/virtual/IVirtualDevice;","2","7 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
9 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 7 @8 exception:8,
invokevirtual < Application, Landroid/content/Context, enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V > 9,10,11 @16 exception:12,
14 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @19 exception:13,
15 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
17 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 15 @25 exception:16,
19 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 17,3 @29 exception:18,
6 = invokestatic < Application, Landroid/os/Binder, getCallingUid()I > @5 exception:5,
8 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @9 exception:7,
11 = invokevirtual < Application, Landroid/content/Context, getPackageManager()Landroid/content/pm/PackageManager; > 1 @14 exception:10,
13 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 6 @18 exception:12,
15 = invokevirtual < Application, Landroid/content/pm/PackageManager, getPackageUidAsUser(Ljava/lang/String;I)I > 11,2,13 @22 exception:14,
conditional branch(eq, to iindex=-1) 15,6,
18 = new <Application,Ljava/lang/StringBuilder>@28,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 18 @30 exception:19,
21 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,3 @33 exception:20,
23 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,2 @36 exception:22,
26 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,24 @41 exception:25,
28 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,15 @44 exception:27,
31 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 18,29 @49 exception:30,
33 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 18,6 @52 exception:32,
35 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 18 @55 exception:34,
37 = invokestatic < Application, Landroid/util/Slog, e(Ljava/lang/String;Ljava/lang/String;)I > 4,35 @59 exception:36,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 8 @62 exception:63,
return 9,
conditional branch(eq, to iindex=-1) 19,20,
38 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, getAssociationInfo(Ljava/lang/String;I)Landroid/companion/AssociationInfo; > 1,3,4 @35 exception:37,
5 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUserHandle()Landroid/os/UserHandle; > @0 exception:4,
7 = invokevirtual < Application, Landroid/os/UserHandle, getIdentifier()I > 5 @4 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmAllAssociations(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/util/concurrent/ConcurrentHashMap; > 8 @10 exception:9,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mAllAssociations, <Application,Ljava/util/concurrent/ConcurrentHashMap> > 1,
return 2,
12 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 7 @14 exception:11,
14 = invokevirtual < Application, Ljava/util/concurrent/ConcurrentHashMap, get(Ljava/lang/Object;)Ljava/lang/Object; > 10,12 @18 exception:13,
15 = checkcast <Application,Ljava/util/List>14 <Application,Ljava/util/List>,
conditional branch(eq, to iindex=-1) 15,16,
17 = new <Application,Ljava/lang/StringBuilder>@55,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 17 @57 exception:18,
21 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 17,19 @62 exception:20,
23 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 17,7 @65 exception:22,
25 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 17 @68 exception:24,
28 = invokestatic < Application, Landroid/util/Slog, w(Ljava/lang/String;Ljava/lang/String;)I > 26,25 @74 exception:27,
return 16,
conditional branch(eq, to iindex=-1) 38,20,
50 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
52 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 50 @43 exception:51,
monitorenter 52,
53 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
55 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 53 @50 exception:54,
57 = invokevirtual < Application, Landroid/util/SparseArray, contains(I)Z > 55,4 @54 exception:56,
conditional branch(ne, to iindex=-1) 57,20,
73 = invokestatic < Application, Landroid/os/UserHandle, getUserId(I)I > 14 @60 exception:72,
74 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmCameraAccessControllers(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 74 @66 exception:75,
78 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 76,73 @70 exception:77,
79 = checkcast <Application,Lcom/android/server/companion/virtual/CameraAccessController>78 <Application,Lcom/android/server/companion/virtual/CameraAccessController>,
80 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>@77,
81 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
83 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 81 @81 exception:82,
84 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1>@85,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$1, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;I)V > 84,1,79,73 @87 exception:85,
86 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0>@90,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0, <init>(Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl;Lcom/android/server/companion/virtual/CameraAccessController;Landroid/companion/AssociationInfo;)V > 86,1,79,38 @92 exception:87,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, <init>(Landroid/content/Context;Landroid/companion/AssociationInfo;Landroid/os/IBinder;ILcom/android/server/companion/virtual/VirtualDeviceImpl$OnDeviceCloseListener;Lcom/android/server/companion/virtual/VirtualDeviceImpl$PendingTrampolineCallback;Landroid/companion/virtual/IVirtualDeviceActivityListener;Ljava/util/function/Consumer;Landroid/companion/virtual/VirtualDeviceParams;)V > 80,83,38,2,14,84,1,6,86,5 @105 exception:88,
conditional branch(eq, to iindex=-1) 79,20,
invokevirtual < Application, Lcom/android/server/companion/virtual/CameraAccessController, startObservingIfNeeded()V > 79 @110 exception:101,
2 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
conditional branch(ne, to iindex=-1) 3,4,
5 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mCameraManager, <Application,Landroid/hardware/camera2/CameraManager> > 1,
6 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mContext, <Application,Landroid/content/Context> > 1,
8 = invokevirtual < Application, Landroid/content/Context, getMainExecutor()Ljava/util/concurrent/Executor; > 6 @11 exception:7,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager, registerAvailabilityCallback(Ljava/util/concurrent/Executor;Landroid/hardware/camera2/CameraManager$AvailabilityCallback;)V > 5,8,1 @15 exception:9,
conditional branch(eq, to iindex=-1) 2,4,
9 = invokestatic < Application, Landroid/hardware/camera2/CameraManager$CameraManagerGlobal, get()Landroid/hardware/camera2/CameraManager$CameraManagerGlobal; > @2 exception:8,
10 = getfield < Application, Landroid/hardware/camera2/CameraManager, mHasOpenCloseListenerPermission, <Primordial,Z> > 1,
invokevirtual < Application, Landroid/hardware/camera2/CameraManager$CameraManagerGlobal, registerAvailabilityCallback(Landroid/hardware/camera2/CameraManager$AvailabilityCallback;Ljava/util/concurrent/Executor;Z)V > 9,3,2,10 @8 exception:11,
return,
11 = getfield < Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > 1,
13 = binaryop(add) 11 , 12,
putfield 1.< Application, Lcom/android/server/companion/virtual/CameraAccessController, mObserverCount, <Primordial,I> > = 13,
monitorexit 2,
return,
goto (from iindex= 56 to iindex = 23),
107 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
109 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 107 @138 exception:108,
111 = invokevirtual < Application, Landroid/companion/AssociationInfo, getId()I > 38 @142 exception:110,
invokevirtual < Application, Landroid/util/SparseArray, put(ILjava/lang/Object;)V > 109,111,80 @146 exception:112,
monitorexit 52,
return 80,","depth : 0
public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	boolean v5 = PermissionUtils.validateCallingPackageName(v4, p2);
	AssociationInfo v6 = p0.getAssociationInfo(p2, p3);
	Object v7 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v8 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v9 = v8.contains(p3);
	int v10 = UserHandle.getUserId(v3);
	SparseArray v11 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v12 = v11.get(v10);
	VirtualDeviceImpl v12 = new VirtualDeviceImpl(v13,v6,p1,v3,v13,p0,p5,v14,p4);
	Context v13 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v13 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v12,v10);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v14 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v12,v6);
	v12.startObservingIfNeeded();
	SparseArray v18 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v19 = v6.getId();
	v18.put(v19, v12);
	return v12;
}
-----
depth : 1
public boolean validateCallingPackageName(Context p1, String p2){
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""validatePackageName: App with package name "");
	StringBuilder v8 = v5.append(p2);
	StringBuilder v9 = v5.append("" is UID "");
	StringBuilder v10 = v5.append(v5);
	StringBuilder v11 = v5.append("" but caller is "");
	StringBuilder v12 = v5.append(v1);
	String v13 = v5.toString();
	int v14 = Slog.e(""VDM.PermissionUtils"", v13);
	Binder.restoreCallingIdentity(v2);
	return 0;
}
-----
depth : 1
public AssociationInfo getAssociationInfo(String p1, int p2){
	UserHandle v1 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v2 = v1.getIdentifier();
	ConcurrentHashMap v3 = VirtualDeviceManagerService.-$$Nest$fgetmAllAssociations(this.this$0);
	Integer v4 = Integer.valueOf(v2);
	Object v5 = v3.get(v4);
	StringBuilder v5 = new StringBuilder();
	StringBuilder v7 = v5.append(""No associations for user "");
	StringBuilder v8 = v5.append(v2);
	String v9 = v5.toString();
	int v10 = Slog.w(""VirtualDeviceManagerService"", v9);
	return 0;
}
-----
depth : 2
public ConcurrentHashMap -$$Nest$fgetmAllAssociations(VirtualDeviceManagerService p1){
	return this.mAllAssociations;
}
-----
depth : 1
public void startObservingIfNeeded(){
	Executor v1 = this.mContext.getMainExecutor();
	this.mCameraManager.registerAvailabilityCallback(v1, p0);
	this.mObserverCount = (this.mObserverCount + 1);
	return;
}
-----
depth : 2
public void registerAvailabilityCallback(Executor p1, CameraManager$AvailabilityCallback p2){
	CameraManager$CameraManagerGlobal v1 = CameraManager$CameraManagerGlobal.get();
	v1.registerAvailabilityCallback(p2, p1, this.mHasOpenCloseListenerPermission);
	return;
}
-----
","public IVirtualDevice createVirtualDevice(IBinder p1, String p2, int p3, VirtualDeviceParams p4, IVirtualDeviceActivityListener p5){
	int v3 = IVirtualDeviceManager$Stub.getCallingUid();
	Context v4 = this.this$0.getContext();
	Binder.restoreCallingIdentity(v7);
	boolean v5 = 0;
	UserHandle v23 = IVirtualDeviceManager$Stub.getCallingUserHandle();
	int v24 = v23.getIdentifier();
	ConcurrentHashMap v25 = this.mAllAssociations;
	Integer v26 = Integer.valueOf(v24);
	Object v27 = v25.get(v26);
	AssociationInfo v22 = 0;
	Object v34 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDeviceManagerLock(this.this$0);
	SparseArray v35 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	boolean v36 = v35.contains(p3);
	int v37 = UserHandle.getUserId(v3);
	SparseArray v38 = VirtualDeviceManagerService.-$$Nest$fgetmCameraAccessControllers(this.this$0);
	Object v39 = v38.get(v37);
	VirtualDeviceImpl v40 = new VirtualDeviceImpl(v41,v22,p1,v3,v42,p0,p5,v44,p4);
	Context v41 = this.this$0.getContext();
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$1 v42 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$1(p0,v39,v37);
	VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0 v44 = new VirtualDeviceManagerService$VirtualDeviceManagerImpl$$ExternalSyntheticLambda0(p0,v39,v22);
	Executor v48 = this.mContext.getMainExecutor();
	CameraManager$CameraManagerGlobal v50 = CameraManager$CameraManagerGlobal.get();
	v50.registerAvailabilityCallback(p0, v48, this.mHasOpenCloseListenerPermission);
	this.mObserverCount = (this.mObserverCount + 1);
	SparseArray v52 = VirtualDeviceManagerService.-$$Nest$fgetmVirtualDevices(this.this$0);
	int v53 = v22.getId();
	v52.put(v53, v40);
	return v40;
}
","NORMAL"

"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Ljava/lang/String;)I","0","7 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @0 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 8 @6 exception:9,
12 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 10,5 @10 exception:11,
conditional branch(eq, to iindex=-1) 12,13,
30 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
32 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 30 @18 exception:31,
monitorenter 32,
33 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
35 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 33 @25 exception:34,
37 = invokeinterface < Application, Landroid/companion/virtual/IVirtualDevice, getAssociationId()I > 4 @29 exception:36,
39 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 35,37 @33 exception:38,
40 = checkcast <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>39 <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>,
conditional branch(eq, to iindex=-1) 40,13,
monitorexit 32,
51 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getOwnerUid()I > 40 @42 exception:50,
conditional branch(ne, to iindex=-1) 51,7,
67 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @48 exception:66,
69 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createWindowPolicyController()Lcom/android/server/companion/virtual/GenericWindowPolicyController; > 40 @52 exception:68,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 67 @56 exception:72,
73 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
74 = load_metadata: <Application,Landroid/hardware/display/DisplayManagerInternal>, <Primordial,Ljava/lang/Class>,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, access$000(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;Ljava/lang/Class;)Ljava/lang/Object; > 73,74 @63 exception:75,
77 = checkcast <Application,Landroid/hardware/display/DisplayManagerInternal>76 <Application,Landroid/hardware/display/DisplayManagerInternal>,
79 = invokevirtual < Application, Landroid/hardware/display/DisplayManagerInternal, createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Landroid/window/DisplayWindowPolicyController;Ljava/lang/String;)I > 77,2,3,4,69,5 @75 exception:78,
81 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @79 exception:80,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, onVirtualDisplayCreatedLocked(Lcom/android/server/companion/virtual/GenericWindowPolicyController;I)V > 40,69,79 @83 exception:82,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 81 @86 exception:85,
86 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
88 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmLocalService(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal; > 86 @91 exception:87,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal, onVirtualDisplayCreated(I)V > 88,79 @95 exception:89,
return 79,","depth : 0
public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v10 = v7.createWindowPolicyController();
	Binder.restoreCallingIdentity(v9);
	Object v12 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v13 = v12.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v14 = Binder.clearCallingIdentity();
	v7.onVirtualDisplayCreatedLocked(v10, v13);
	Binder.restoreCallingIdentity(v14);
	VirtualDeviceManagerInternal v17 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v17.onVirtualDisplayCreated(v13);
	return v13;
}
-----
","public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v10 = v7.createWindowPolicyController();
	Binder.restoreCallingIdentity(v9);
	Object v12 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v13 = v12.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v14 = Binder.clearCallingIdentity();
	v7.onVirtualDisplayCreatedLocked(v10, v13);
	Binder.restoreCallingIdentity(v14);
	VirtualDeviceManagerInternal v17 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v17.onVirtualDisplayCreated(v13);
	return v13;
}
","NONE"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Ljava/lang/String;)I","1","7 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @0 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 8 @6 exception:9,
12 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 10,5 @10 exception:11,
conditional branch(eq, to iindex=-1) 12,13,
30 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
32 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 30 @18 exception:31,
monitorenter 32,
33 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
35 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 33 @25 exception:34,
37 = invokeinterface < Application, Landroid/companion/virtual/IVirtualDevice, getAssociationId()I > 4 @29 exception:36,
39 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 35,37 @33 exception:38,
40 = checkcast <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>39 <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>,
conditional branch(eq, to iindex=-1) 40,13,
monitorexit 32,
51 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getOwnerUid()I > 40 @42 exception:50,
conditional branch(ne, to iindex=-1) 51,7,
67 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @48 exception:66,
69 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createWindowPolicyController()Lcom/android/server/companion/virtual/GenericWindowPolicyController; > 40 @52 exception:68,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = new <Application,Lcom/android/server/companion/virtual/GenericWindowPolicyController>@3,
7 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getAllowedUserHandles()Landroid/util/ArraySet; > 1 @9 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
10 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedCrossTaskNavigations()Ljava/util/Set; > 8 @15 exception:9,
11 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
13 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedCrossTaskNavigations()Ljava/util/Set; > 11 @21 exception:12,
14 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
16 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedActivities()Ljava/util/Set; > 14 @27 exception:15,
17 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
19 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedActivities()Ljava/util/Set; > 17 @33 exception:18,
20 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
22 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getDefaultActivityPolicy()I > 20 @39 exception:21,
24 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createListenerAdapter()Landroid/companion/virtual/VirtualDeviceManager$ActivityListener; > 1 @43 exception:23,
25 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda2>@47,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda2, <init>(Lcom/android/server/companion/virtual/VirtualDeviceImpl;)V > 25,1 @49 exception:26,
27 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda3>@52,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda3, <init>(Lcom/android/server/companion/virtual/VirtualDeviceImpl;)V > 27,1 @54 exception:28,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mAssociationInfo, <Application,Landroid/companion/AssociationInfo> > 1,
31 = invokevirtual < Application, Landroid/companion/AssociationInfo, getDeviceProfile()Ljava/lang/String; > 29 @59 exception:30,
invokespecial < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, <init>(IILandroid/util/ArraySet;Ljava/util/Set;Ljava/util/Set;Ljava/util/Set;Ljava/util/Set;ILandroid/companion/virtual/VirtualDeviceManager$ActivityListener;Lcom/android/server/companion/virtual/GenericWindowPolicyController$ActivityBlockedCallback;Lcom/android/server/companion/virtual/GenericWindowPolicyController$SecureWindowCallback;Ljava/lang/String;)V > 3,4,5,7,10,13,16,19,22,24,25,27,31 @64 exception:32,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, registerRunningAppsChangedListener(Lcom/android/server/companion/virtual/GenericWindowPolicyController$RunningAppsChangedListener;)V > 3,1 @67 exception:33,
monitorexit 2,
return 3,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 67 @56 exception:72,
73 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
74 = load_metadata: <Application,Landroid/hardware/display/DisplayManagerInternal>, <Primordial,Ljava/lang/Class>,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, access$000(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;Ljava/lang/Class;)Ljava/lang/Object; > 73,74 @63 exception:75,
4 = invokevirtual < Application, Lcom/android/server/SystemService, getLocalService(Ljava/lang/Class;)Ljava/lang/Object; > 1,2 @0 exception:3,
return 4,
77 = checkcast <Application,Landroid/hardware/display/DisplayManagerInternal>76 <Application,Landroid/hardware/display/DisplayManagerInternal>,
79 = invokevirtual < Application, Landroid/hardware/display/DisplayManagerInternal, createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Landroid/window/DisplayWindowPolicyController;Ljava/lang/String;)I > 77,2,3,4,69,5 @75 exception:78,
81 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @79 exception:80,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, onVirtualDisplayCreatedLocked(Lcom/android/server/companion/virtual/GenericWindowPolicyController;I)V > 40,69,79 @83 exception:82,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 4,
conditional branch(ne, to iindex=-1) 3,5,
6 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
8 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @10 exception:7,
10 = invokeinterface < Application, Ljava/util/Set, contains(Ljava/lang/Object;)Z > 6,8 @14 exception:9,
conditional branch(ne, to iindex=-1) 10,11,
23 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
25 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @22 exception:24,
27 = invokeinterface < Application, Ljava/util/Set, add(Ljava/lang/Object;)Z > 23,25 @26 exception:26,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, setDisplayId(I)V > 2,3 @29 exception:28,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mWindowPolicyControllers, <Application,Landroid/util/SparseArray> > 1,
invokevirtual < Application, Landroid/util/SparseArray, put(ILjava/lang/Object;)V > 29,3,2 @34 exception:30,
31 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
32 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mDefaultShowPointerIcon, <Primordial,Z> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setShowPointerIcon(ZI)V > 31,32,3 @41 exception:33,
34 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setPointerAcceleration(FI)V > 34,35,3 @48 exception:36,
37 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setDisplayEligibilityForPointerCapture(ZI)V > 37,11,3 @54 exception:38,
39 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setLocalIme(I)V > 39,3 @59 exception:40,
41 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
43 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @64 exception:42,
45 = invokeinterface < Application, Ljava/util/Map, containsKey(Ljava/lang/Object;)Z > 41,43 @68 exception:44,
conditional branch(eq, to iindex=-1) 45,11,
46 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
47 = load_metadata: <Application,Landroid/os/PowerManager>, <Primordial,Ljava/lang/Class>,
49 = invokevirtual < Application, Landroid/content/Context, getSystemService(Ljava/lang/Class;)Ljava/lang/Object; > 46,47 @102 exception:48,
50 = checkcast <Application,Landroid/os/PowerManager>49 <Application,Landroid/os/PowerManager>,
52 = new <Application,Ljava/lang/StringBuilder>@110,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 52 @112 exception:53,
56 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 52,54 @117 exception:55,
58 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 52,3 @120 exception:57,
60 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 52 @123 exception:59,
62 = invokevirtual < Application, Landroid/os/PowerManager, newWakeLock(ILjava/lang/String;I)Landroid/os/PowerManager$WakeLock; > 50,51,60,3 @127 exception:61,
63 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
65 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @133 exception:64,
67 = invokeinterface < Application, Ljava/util/Map, put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; > 63,65,62 @137 exception:66,
invokevirtual < Application, Landroid/os/PowerManager$WakeLock, acquire()V > 62 @140 exception:68,
monitorexit 4,
return,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 81 @86 exception:85,
86 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
88 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmLocalService(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal; > 86 @91 exception:87,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, mLocalService, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal> > 1,
return 2,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal, onVirtualDisplayCreated(I)V > 88,79 @95 exception:89,
return 79,","depth : 0
public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v10 = v7.createWindowPolicyController();
	Binder.restoreCallingIdentity(v9);
	Object v12 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v13 = v12.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v14 = Binder.clearCallingIdentity();
	v7.onVirtualDisplayCreatedLocked(v10, v13);
	Binder.restoreCallingIdentity(v14);
	VirtualDeviceManagerInternal v17 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v17.onVirtualDisplayCreated(v13);
	return v13;
}
-----
depth : 1
public GenericWindowPolicyController createWindowPolicyController(){
	GenericWindowPolicyController v0 = new GenericWindowPolicyController(8192,524288,v1,v2,v3,v4,v5,v6,v7,v7,v8,v10);
	ArraySet v1 = p0.getAllowedUserHandles();
	Set v2 = this.mParams.getAllowedCrossTaskNavigations();
	Set v3 = this.mParams.getBlockedCrossTaskNavigations();
	Set v4 = this.mParams.getAllowedActivities();
	Set v5 = this.mParams.getBlockedActivities();
	int v6 = this.mParams.getDefaultActivityPolicy();
	VirtualDeviceManager$ActivityListener v7 = p0.createListenerAdapter();
	VirtualDeviceImpl$$ExternalSyntheticLambda2 v7 = new VirtualDeviceImpl$$ExternalSyntheticLambda2(p0);
	VirtualDeviceImpl$$ExternalSyntheticLambda3 v8 = new VirtualDeviceImpl$$ExternalSyntheticLambda3(p0);
	String v10 = this.mAssociationInfo.getDeviceProfile();
	v0.registerRunningAppsChangedListener(p0);
	return v0;
}
-----
depth : 1
public Object access$000(VirtualDeviceManagerService p1, Class p2){
	Object v1 = p1.getLocalService(p2);
	return v1;
}
-----
depth : 1
public void onVirtualDisplayCreatedLocked(GenericWindowPolicyController p1, int p2){
	Integer v1 = Integer.valueOf(p2);
	boolean v2 = this.mVirtualDisplayIds.contains(v1);
	Integer v3 = Integer.valueOf(p2);
	boolean v4 = this.mVirtualDisplayIds.add(v3);
	p1.setDisplayId(p2);
	this.mWindowPolicyControllers.put(p2, p1);
	this.mInputController.setShowPointerIcon(this.mDefaultShowPointerIcon, p2);
	this.mInputController.setPointerAcceleration(1065353216, p2);
	this.mInputController.setDisplayEligibilityForPointerCapture(0, p2);
	this.mInputController.setLocalIme(p2);
	Integer v11 = Integer.valueOf(p2);
	boolean v12 = this.mPerDisplayWakelocks.containsKey(v11);
	Object v13 = this.mContext.getSystemService(PowerManage.class);
	StringBuilder v13 = new StringBuilder();
	StringBuilder v15 = v13.append(""VirtualDeviceImpl:"");
	StringBuilder v16 = v13.append(p2);
	String v17 = v13.toString();
	PowerManager$WakeLock v18 = v13.newWakeLock(10, v17, p2);
	Integer v19 = Integer.valueOf(p2);
	Object v20 = this.mPerDisplayWakelocks.put(v19, v18);
	v18.acquire();
	return;
}
-----
depth : 1
public VirtualDeviceManagerInternal -$$Nest$fgetmLocalService(VirtualDeviceManagerService p1){
	return this.mLocalService;
}
-----
","public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v11 = new GenericWindowPolicyController(8192,524288,v12,v13,v14,v15,v16,v17,v18,v19,v21,v23);
	ArraySet v12 = VirtualDeviceImpl.getAllowedUserHandles();
	Set v13 = this.mParams.getAllowedCrossTaskNavigations();
	Set v14 = this.mParams.getBlockedCrossTaskNavigations();
	Set v15 = this.mParams.getAllowedActivities();
	Set v16 = this.mParams.getBlockedActivities();
	int v17 = this.mParams.getDefaultActivityPolicy();
	VirtualDeviceManager$ActivityListener v18 = VirtualDeviceImpl.createListenerAdapter();
	VirtualDeviceImpl$$ExternalSyntheticLambda2 v19 = new VirtualDeviceImpl$$ExternalSyntheticLambda2(VirtualDeviceImpl);
	VirtualDeviceImpl$$ExternalSyntheticLambda3 v21 = new VirtualDeviceImpl$$ExternalSyntheticLambda3(VirtualDeviceImpl);
	String v23 = this.mAssociationInfo.getDeviceProfile();
	v11.registerRunningAppsChangedListener(VirtualDeviceImpl);
	GenericWindowPolicyController v10 = v11;
	Binder.restoreCallingIdentity(v9);
	Object v28 = this.this$0.getLocalService(DisplayManagerInterna.class);
	Object v27 = v28;
	int v29 = v27.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v30 = Binder.clearCallingIdentity();
	Integer v32 = Integer.valueOf(v29);
	boolean v33 = this.mVirtualDisplayIds.contains(v32);
	Integer v34 = Integer.valueOf(v29);
	boolean v35 = this.mVirtualDisplayIds.add(v34);
	v10.setDisplayId(v29);
	this.mWindowPolicyControllers.put(v29, v10);
	this.mInputController.setShowPointerIcon(this.mDefaultShowPointerIcon, v29);
	this.mInputController.setPointerAcceleration(1065353216, v29);
	this.mInputController.setDisplayEligibilityForPointerCapture(0, v29);
	this.mInputController.setLocalIme(v29);
	Integer v42 = Integer.valueOf(v29);
	boolean v43 = this.mPerDisplayWakelocks.containsKey(v42);
	Object v44 = this.mContext.getSystemService(PowerManage.class);
	StringBuilder v45 = new StringBuilder();
	StringBuilder v47 = v45.append(""VirtualDeviceImpl:"");
	StringBuilder v48 = v45.append(v29);
	String v49 = v45.toString();
	PowerManager$WakeLock v50 = v44.newWakeLock(10, v49, v29);
	Integer v51 = Integer.valueOf(v29);
	Object v52 = this.mPerDisplayWakelocks.put(v51, v50);
	v50.acquire();
	Binder.restoreCallingIdentity(v30);
	VirtualDeviceManagerInternal v55 = this.mLocalService;
	v55.onVirtualDisplayCreated(v29);
	return v29;
}
","NONE"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Ljava/lang/String;)I","2","7 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @0 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 8 @6 exception:9,
12 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 10,5 @10 exception:11,
conditional branch(eq, to iindex=-1) 12,13,
30 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
32 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 30 @18 exception:31,
monitorenter 32,
33 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
35 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 33 @25 exception:34,
37 = invokeinterface < Application, Landroid/companion/virtual/IVirtualDevice, getAssociationId()I > 4 @29 exception:36,
39 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 35,37 @33 exception:38,
40 = checkcast <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>39 <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>,
conditional branch(eq, to iindex=-1) 40,13,
monitorexit 32,
51 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getOwnerUid()I > 40 @42 exception:50,
conditional branch(ne, to iindex=-1) 51,7,
67 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @48 exception:66,
69 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createWindowPolicyController()Lcom/android/server/companion/virtual/GenericWindowPolicyController; > 40 @52 exception:68,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = new <Application,Lcom/android/server/companion/virtual/GenericWindowPolicyController>@3,
7 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getAllowedUserHandles()Landroid/util/ArraySet; > 1 @9 exception:6,
2 = new <Application,Landroid/util/ArraySet>@0,
invokespecial < Application, Landroid/util/ArraySet, <init>()V > 2 @2 exception:3,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
5 = load_metadata: <Application,Landroid/app/admin/DevicePolicyManager>, <Primordial,Ljava/lang/Class>,
7 = invokevirtual < Application, Landroid/content/Context, getSystemService(Ljava/lang/Class;)Ljava/lang/Object; > 4,5 @9 exception:6,
8 = checkcast <Application,Landroid/app/admin/DevicePolicyManager>7 <Application,Landroid/app/admin/DevicePolicyManager>,
9 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
10 = load_metadata: <Application,Landroid/os/UserManager>, <Primordial,Ljava/lang/Class>,
12 = invokevirtual < Application, Landroid/content/Context, getSystemService(Ljava/lang/Class;)Ljava/lang/Object; > 9,10 @19 exception:11,
13 = checkcast <Application,Landroid/os/UserManager>12 <Application,Landroid/os/UserManager>,
15 = invokevirtual < Application, Landroid/os/UserManager, getAllProfiles()Ljava/util/List; > 13 @25 exception:14,
17 = invokeinterface < Application, Ljava/util/List, iterator()Ljava/util/Iterator; > 15 @29 exception:16,
19 = invokeinterface < Application, Ljava/util/Iterator, hasNext()Z > 17 @33 exception:18,
conditional branch(eq, to iindex=-1) 19,20,
return 2,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
10 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedCrossTaskNavigations()Ljava/util/Set; > 8 @15 exception:9,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mAllowedCrossTaskNavigations, <Application,Landroid/util/ArraySet> > 1,
4 = invokestatic < Application, Ljava/util/Collections, unmodifiableSet(Ljava/util/Set;)Ljava/util/Set; > 2 @2 exception:3,
return 4,
11 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
13 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedCrossTaskNavigations()Ljava/util/Set; > 11 @21 exception:12,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mBlockedCrossTaskNavigations, <Application,Landroid/util/ArraySet> > 1,
4 = invokestatic < Application, Ljava/util/Collections, unmodifiableSet(Ljava/util/Set;)Ljava/util/Set; > 2 @2 exception:3,
return 4,
14 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
16 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedActivities()Ljava/util/Set; > 14 @27 exception:15,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mAllowedActivities, <Application,Landroid/util/ArraySet> > 1,
4 = invokestatic < Application, Ljava/util/Collections, unmodifiableSet(Ljava/util/Set;)Ljava/util/Set; > 2 @2 exception:3,
return 4,
17 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
19 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedActivities()Ljava/util/Set; > 17 @33 exception:18,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mBlockedActivities, <Application,Landroid/util/ArraySet> > 1,
4 = invokestatic < Application, Ljava/util/Collections, unmodifiableSet(Ljava/util/Set;)Ljava/util/Set; > 2 @2 exception:3,
return 4,
20 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
22 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getDefaultActivityPolicy()I > 20 @39 exception:21,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mDefaultActivityPolicy, <Primordial,I> > 1,
return 2,
24 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createListenerAdapter()Landroid/companion/virtual/VirtualDeviceManager$ActivityListener; > 1 @43 exception:23,
2 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$1>@0,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl$1, <init>(Lcom/android/server/companion/virtual/VirtualDeviceImpl;)V > 2,1 @2 exception:3,
return 2,
25 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda2>@47,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda2, <init>(Lcom/android/server/companion/virtual/VirtualDeviceImpl;)V > 25,1 @49 exception:26,
27 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda3>@52,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda3, <init>(Lcom/android/server/companion/virtual/VirtualDeviceImpl;)V > 27,1 @54 exception:28,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mAssociationInfo, <Application,Landroid/companion/AssociationInfo> > 1,
31 = invokevirtual < Application, Landroid/companion/AssociationInfo, getDeviceProfile()Ljava/lang/String; > 29 @59 exception:30,
2 = getfield < Application, Landroid/companion/AssociationInfo, mDeviceProfile, <Application,Ljava/lang/String> > 1,
return 2,
invokespecial < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, <init>(IILandroid/util/ArraySet;Ljava/util/Set;Ljava/util/Set;Ljava/util/Set;Ljava/util/Set;ILandroid/companion/virtual/VirtualDeviceManager$ActivityListener;Lcom/android/server/companion/virtual/GenericWindowPolicyController$ActivityBlockedCallback;Lcom/android/server/companion/virtual/GenericWindowPolicyController$SecureWindowCallback;Ljava/lang/String;)V > 3,4,5,7,10,13,16,19,22,24,25,27,31 @64 exception:32,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, registerRunningAppsChangedListener(Lcom/android/server/companion/virtual/GenericWindowPolicyController$RunningAppsChangedListener;)V > 3,1 @67 exception:33,
3 = getfield < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, mRunningAppsChangedListener, <Application,Landroid/util/ArraySet> > 1,
5 = invokevirtual < Application, Landroid/util/ArraySet, add(Ljava/lang/Object;)Z > 3,2 @2 exception:4,
return,
monitorexit 2,
return 3,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 67 @56 exception:72,
73 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
74 = load_metadata: <Application,Landroid/hardware/display/DisplayManagerInternal>, <Primordial,Ljava/lang/Class>,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, access$000(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;Ljava/lang/Class;)Ljava/lang/Object; > 73,74 @63 exception:75,
77 = checkcast <Application,Landroid/hardware/display/DisplayManagerInternal>76 <Application,Landroid/hardware/display/DisplayManagerInternal>,
79 = invokevirtual < Application, Landroid/hardware/display/DisplayManagerInternal, createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Landroid/window/DisplayWindowPolicyController;Ljava/lang/String;)I > 77,2,3,4,69,5 @75 exception:78,
81 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @79 exception:80,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, onVirtualDisplayCreatedLocked(Lcom/android/server/companion/virtual/GenericWindowPolicyController;I)V > 40,69,79 @83 exception:82,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 4,
conditional branch(ne, to iindex=-1) 3,5,
6 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
8 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @10 exception:7,
10 = invokeinterface < Application, Ljava/util/Set, contains(Ljava/lang/Object;)Z > 6,8 @14 exception:9,
conditional branch(ne, to iindex=-1) 10,11,
23 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
25 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @22 exception:24,
27 = invokeinterface < Application, Ljava/util/Set, add(Ljava/lang/Object;)Z > 23,25 @26 exception:26,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, setDisplayId(I)V > 2,3 @29 exception:28,
putfield 1.< Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, mDisplayId, <Primordial,I> > = 2,
return,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mWindowPolicyControllers, <Application,Landroid/util/SparseArray> > 1,
invokevirtual < Application, Landroid/util/SparseArray, put(ILjava/lang/Object;)V > 29,3,2 @34 exception:30,
31 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
32 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mDefaultShowPointerIcon, <Primordial,Z> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setShowPointerIcon(ZI)V > 31,32,3 @41 exception:33,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
invokevirtual < Application, Landroid/hardware/input/InputManagerInternal, setPointerIconVisible(ZI)V > 4,2,3 @2 exception:5,
return,
34 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setPointerAcceleration(FI)V > 34,35,3 @48 exception:36,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
invokevirtual < Application, Landroid/hardware/input/InputManagerInternal, setPointerAcceleration(FI)V > 4,2,3 @2 exception:5,
return,
37 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setDisplayEligibilityForPointerCapture(ZI)V > 37,11,3 @54 exception:38,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
invokevirtual < Application, Landroid/hardware/input/InputManagerInternal, setDisplayEligibilityForPointerCapture(IZ)V > 4,3,2 @2 exception:5,
return,
39 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setLocalIme(I)V > 39,3 @59 exception:40,
3 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mDisplayManagerInternal, <Application,Landroid/hardware/display/DisplayManagerInternal> > 1,
5 = invokevirtual < Application, Landroid/hardware/display/DisplayManagerInternal, getDisplayInfo(I)Landroid/view/DisplayInfo; > 3,2 @2 exception:4,
6 = getfield < Application, Landroid/view/DisplayInfo, flags, <Primordial,I> > 5,
8 = binaryop(and) 6 , 7,
conditional branch(ne, to iindex=-1) 8,7,
9 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mWindowManager, <Application,Landroid/view/WindowManager> > 1,
invokeinterface < Application, Landroid/view/WindowManager, setDisplayImePolicy(II)V > 9,2,10 @16 exception:11,
return,
41 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
43 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @64 exception:42,
45 = invokeinterface < Application, Ljava/util/Map, containsKey(Ljava/lang/Object;)Z > 41,43 @68 exception:44,
conditional branch(eq, to iindex=-1) 45,11,
46 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
47 = load_metadata: <Application,Landroid/os/PowerManager>, <Primordial,Ljava/lang/Class>,
49 = invokevirtual < Application, Landroid/content/Context, getSystemService(Ljava/lang/Class;)Ljava/lang/Object; > 46,47 @102 exception:48,
50 = checkcast <Application,Landroid/os/PowerManager>49 <Application,Landroid/os/PowerManager>,
52 = new <Application,Ljava/lang/StringBuilder>@110,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 52 @112 exception:53,
56 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 52,54 @117 exception:55,
58 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 52,3 @120 exception:57,
60 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 52 @123 exception:59,
62 = invokevirtual < Application, Landroid/os/PowerManager, newWakeLock(ILjava/lang/String;I)Landroid/os/PowerManager$WakeLock; > 50,51,60,3 @127 exception:61,
63 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
65 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @133 exception:64,
67 = invokeinterface < Application, Ljava/util/Map, put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; > 63,65,62 @137 exception:66,
invokevirtual < Application, Landroid/os/PowerManager$WakeLock, acquire()V > 62 @140 exception:68,
monitorexit 4,
return,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 81 @86 exception:85,
86 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
88 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmLocalService(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal; > 86 @91 exception:87,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal, onVirtualDisplayCreated(I)V > 88,79 @95 exception:89,
return 79,","depth : 0
public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v10 = v7.createWindowPolicyController();
	Binder.restoreCallingIdentity(v9);
	Object v12 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v13 = v12.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v14 = Binder.clearCallingIdentity();
	v7.onVirtualDisplayCreatedLocked(v10, v13);
	Binder.restoreCallingIdentity(v14);
	VirtualDeviceManagerInternal v17 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v17.onVirtualDisplayCreated(v13);
	return v13;
}
-----
depth : 1
public GenericWindowPolicyController createWindowPolicyController(){
	GenericWindowPolicyController v0 = new GenericWindowPolicyController(8192,524288,v1,v2,v3,v4,v5,v6,v7,v7,v8,v10);
	ArraySet v1 = p0.getAllowedUserHandles();
	Set v2 = this.mParams.getAllowedCrossTaskNavigations();
	Set v3 = this.mParams.getBlockedCrossTaskNavigations();
	Set v4 = this.mParams.getAllowedActivities();
	Set v5 = this.mParams.getBlockedActivities();
	int v6 = this.mParams.getDefaultActivityPolicy();
	VirtualDeviceManager$ActivityListener v7 = p0.createListenerAdapter();
	VirtualDeviceImpl$$ExternalSyntheticLambda2 v7 = new VirtualDeviceImpl$$ExternalSyntheticLambda2(p0);
	VirtualDeviceImpl$$ExternalSyntheticLambda3 v8 = new VirtualDeviceImpl$$ExternalSyntheticLambda3(p0);
	String v10 = this.mAssociationInfo.getDeviceProfile();
	v0.registerRunningAppsChangedListener(p0);
	return v0;
}
-----
depth : 2
public ArraySet getAllowedUserHandles(){
	ArraySet v0 = new ArraySet();
	Object v2 = this.mContext.getSystemService(DevicePolicyManage.class);
	Object v3 = this.mContext.getSystemService(UserManage.class);
	List v4 = v3.getAllProfiles();
	Iterator v5 = v4.iterator();
	boolean v6 = v5.hasNext();
	return v0;
}
-----
depth : 2
public Set getAllowedCrossTaskNavigations(){
	Set v1 = Collections.unmodifiableSet(this.mAllowedCrossTaskNavigations);
	return v1;
}
-----
depth : 2
public Set getBlockedCrossTaskNavigations(){
	Set v1 = Collections.unmodifiableSet(this.mBlockedCrossTaskNavigations);
	return v1;
}
-----
depth : 2
public Set getAllowedActivities(){
	Set v1 = Collections.unmodifiableSet(this.mAllowedActivities);
	return v1;
}
-----
depth : 2
public Set getBlockedActivities(){
	Set v1 = Collections.unmodifiableSet(this.mBlockedActivities);
	return v1;
}
-----
depth : 2
public int getDefaultActivityPolicy(){
	return this.mDefaultActivityPolicy;
}
-----
depth : 2
public VirtualDeviceManager$ActivityListener createListenerAdapter(){
	VirtualDeviceImpl$1 v0 = new VirtualDeviceImpl$1(p0);
	return v0;
}
-----
depth : 2
public String getDeviceProfile(){
	return this.mDeviceProfile;
}
-----
depth : 2
public void registerRunningAppsChangedListener(GenericWindowPolicyController$RunningAppsChangedListener p1){
	boolean v1 = this.mRunningAppsChangedListener.add(p1);
	return;
}
-----
depth : 1
public void onVirtualDisplayCreatedLocked(GenericWindowPolicyController p1, int p2){
	Integer v1 = Integer.valueOf(p2);
	boolean v2 = this.mVirtualDisplayIds.contains(v1);
	Integer v3 = Integer.valueOf(p2);
	boolean v4 = this.mVirtualDisplayIds.add(v3);
	p1.setDisplayId(p2);
	this.mWindowPolicyControllers.put(p2, p1);
	this.mInputController.setShowPointerIcon(this.mDefaultShowPointerIcon, p2);
	this.mInputController.setPointerAcceleration(1065353216, p2);
	this.mInputController.setDisplayEligibilityForPointerCapture(0, p2);
	this.mInputController.setLocalIme(p2);
	Integer v11 = Integer.valueOf(p2);
	boolean v12 = this.mPerDisplayWakelocks.containsKey(v11);
	Object v13 = this.mContext.getSystemService(PowerManage.class);
	StringBuilder v13 = new StringBuilder();
	StringBuilder v15 = v13.append(""VirtualDeviceImpl:"");
	StringBuilder v16 = v13.append(p2);
	String v17 = v13.toString();
	PowerManager$WakeLock v18 = v13.newWakeLock(10, v17, p2);
	Integer v19 = Integer.valueOf(p2);
	Object v20 = this.mPerDisplayWakelocks.put(v19, v18);
	v18.acquire();
	return;
}
-----
depth : 2
public void setDisplayId(int p1){
	this.mDisplayId = p1;
	return;
}
-----
depth : 2
public void setShowPointerIcon(boolean p1, int p2){
	this.mInputManagerInternal.setPointerIconVisible(p1, p2);
	return;
}
-----
depth : 2
public void setPointerAcceleration(float p1, int p2){
	this.mInputManagerInternal.setPointerAcceleration(p1, p2);
	return;
}
-----
depth : 2
public void setDisplayEligibilityForPointerCapture(boolean p1, int p2){
	this.mInputManagerInternal.setDisplayEligibilityForPointerCapture(p2, p1);
	return;
}
-----
depth : 2
public void setLocalIme(int p1){
	DisplayInfo v1 = this.mDisplayManagerInternal.getDisplayInfo(p1);
	this.mWindowManager.setDisplayImePolicy(p1, 0);
	return;
}
-----
","public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v11 = new GenericWindowPolicyController(8192,524288,v12,v20,v22,v24,v26,v28,v29,v32,v34,v36);
	ArraySet v13 = new ArraySet();
	Object v15 = this.mContext.getSystemService(DevicePolicyManage.class);
	Object v16 = this.mContext.getSystemService(UserManage.class);
	List v17 = v16.getAllProfiles();
	Iterator v18 = v17.iterator();
	boolean v19 = v18.hasNext();
	ArraySet v12 = v13;
	Set v21 = Collections.unmodifiableSet(this.mAllowedCrossTaskNavigations);
	Set v20 = v21;
	Set v23 = Collections.unmodifiableSet(this.mBlockedCrossTaskNavigations);
	Set v22 = v23;
	Set v25 = Collections.unmodifiableSet(this.mAllowedActivities);
	Set v24 = v25;
	Set v27 = Collections.unmodifiableSet(this.mBlockedActivities);
	Set v26 = v27;
	int v28 = this.mDefaultActivityPolicy;
	VirtualDeviceImpl$1 v30 = new VirtualDeviceImpl$1(VirtualDeviceImpl);
	VirtualDeviceManager$ActivityListener v29 = v30;
	VirtualDeviceImpl$$ExternalSyntheticLambda2 v32 = new VirtualDeviceImpl$$ExternalSyntheticLambda2(VirtualDeviceImpl);
	VirtualDeviceImpl$$ExternalSyntheticLambda3 v34 = new VirtualDeviceImpl$$ExternalSyntheticLambda3(VirtualDeviceImpl);
	String v36 = this.mDeviceProfile;
	boolean v39 = this.mRunningAppsChangedListener.add(p0);
	GenericWindowPolicyController v10 = v11;
	Binder.restoreCallingIdentity(v9);
	Object v41 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v42 = v41.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v43 = Binder.clearCallingIdentity();
	Integer v45 = Integer.valueOf(v42);
	boolean v46 = this.mVirtualDisplayIds.contains(v45);
	Integer v47 = Integer.valueOf(v42);
	boolean v48 = this.mVirtualDisplayIds.add(v47);
	this.mDisplayId = p2;
	this.mWindowPolicyControllers.put(v42, v10);
	this.mInputManagerInternal.setPointerIconVisible(this.mDefaultShowPointerIcon, p2);
	this.mInputManagerInternal.setPointerAcceleration(1065353216, p2);
	this.mInputManagerInternal.setDisplayEligibilityForPointerCapture(p2, 0);
	DisplayInfo v58 = this.mDisplayManagerInternal.getDisplayInfo(p2);
	this.mWindowManager.setDisplayImePolicy(p2, 0);
	Integer v60 = Integer.valueOf(v42);
	boolean v61 = this.mPerDisplayWakelocks.containsKey(v60);
	Object v62 = this.mContext.getSystemService(PowerManage.class);
	StringBuilder v63 = new StringBuilder();
	StringBuilder v65 = v63.append(""VirtualDeviceImpl:"");
	StringBuilder v66 = v63.append(v42);
	String v67 = v63.toString();
	PowerManager$WakeLock v68 = v62.newWakeLock(10, v67, v42);
	Integer v69 = Integer.valueOf(v42);
	Object v70 = this.mPerDisplayWakelocks.put(v69, v68);
	v68.acquire();
	Binder.restoreCallingIdentity(v43);
	VirtualDeviceManagerInternal v73 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v73.onVirtualDisplayCreated(v42);
	return v42;
}
","NONE"
"Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl","createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Ljava/lang/String;)I","2","7 = invokestatic < Application, Landroid/companion/virtual/IVirtualDeviceManager$Stub, getCallingUid()I > @0 exception:6,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
10 = invokevirtual < Application, Lcom/android/server/SystemService, getContext()Landroid/content/Context; > 8 @6 exception:9,
12 = invokestatic < Application, Lcom/android/server/companion/virtual/PermissionUtils, validateCallingPackageName(Landroid/content/Context;Ljava/lang/String;)Z > 10,5 @10 exception:11,
conditional branch(eq, to iindex=-1) 12,13,
30 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
32 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDeviceManagerLock(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Ljava/lang/Object; > 30 @18 exception:31,
monitorenter 32,
33 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
35 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmVirtualDevices(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Landroid/util/SparseArray; > 33 @25 exception:34,
37 = invokeinterface < Application, Landroid/companion/virtual/IVirtualDevice, getAssociationId()I > 4 @29 exception:36,
39 = invokevirtual < Application, Landroid/util/SparseArray, get(I)Ljava/lang/Object; > 35,37 @33 exception:38,
40 = checkcast <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>39 <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl>,
conditional branch(eq, to iindex=-1) 40,13,
monitorexit 32,
51 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getOwnerUid()I > 40 @42 exception:50,
conditional branch(ne, to iindex=-1) 51,7,
67 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @48 exception:66,
69 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createWindowPolicyController()Lcom/android/server/companion/virtual/GenericWindowPolicyController; > 40 @52 exception:68,
2 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 2,
3 = new <Application,Lcom/android/server/companion/virtual/GenericWindowPolicyController>@3,
7 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, getAllowedUserHandles()Landroid/util/ArraySet; > 1 @9 exception:6,
2 = new <Application,Landroid/util/ArraySet>@0,
invokespecial < Application, Landroid/util/ArraySet, <init>()V > 2 @2 exception:3,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
5 = load_metadata: <Application,Landroid/app/admin/DevicePolicyManager>, <Primordial,Ljava/lang/Class>,
7 = invokevirtual < Application, Landroid/content/Context, getSystemService(Ljava/lang/Class;)Ljava/lang/Object; > 4,5 @9 exception:6,
8 = checkcast <Application,Landroid/app/admin/DevicePolicyManager>7 <Application,Landroid/app/admin/DevicePolicyManager>,
9 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
10 = load_metadata: <Application,Landroid/os/UserManager>, <Primordial,Ljava/lang/Class>,
12 = invokevirtual < Application, Landroid/content/Context, getSystemService(Ljava/lang/Class;)Ljava/lang/Object; > 9,10 @19 exception:11,
13 = checkcast <Application,Landroid/os/UserManager>12 <Application,Landroid/os/UserManager>,
15 = invokevirtual < Application, Landroid/os/UserManager, getAllProfiles()Ljava/util/List; > 13 @25 exception:14,
17 = invokeinterface < Application, Ljava/util/List, iterator()Ljava/util/Iterator; > 15 @29 exception:16,
19 = invokeinterface < Application, Ljava/util/Iterator, hasNext()Z > 17 @33 exception:18,
conditional branch(eq, to iindex=-1) 19,20,
return 2,
8 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
10 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedCrossTaskNavigations()Ljava/util/Set; > 8 @15 exception:9,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mAllowedCrossTaskNavigations, <Application,Landroid/util/ArraySet> > 1,
4 = invokestatic < Application, Ljava/util/Collections, unmodifiableSet(Ljava/util/Set;)Ljava/util/Set; > 2 @2 exception:3,
return 4,
11 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
13 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedCrossTaskNavigations()Ljava/util/Set; > 11 @21 exception:12,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mBlockedCrossTaskNavigations, <Application,Landroid/util/ArraySet> > 1,
4 = invokestatic < Application, Ljava/util/Collections, unmodifiableSet(Ljava/util/Set;)Ljava/util/Set; > 2 @2 exception:3,
return 4,
14 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
16 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getAllowedActivities()Ljava/util/Set; > 14 @27 exception:15,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mAllowedActivities, <Application,Landroid/util/ArraySet> > 1,
4 = invokestatic < Application, Ljava/util/Collections, unmodifiableSet(Ljava/util/Set;)Ljava/util/Set; > 2 @2 exception:3,
return 4,
17 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
19 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getBlockedActivities()Ljava/util/Set; > 17 @33 exception:18,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mBlockedActivities, <Application,Landroid/util/ArraySet> > 1,
4 = invokestatic < Application, Ljava/util/Collections, unmodifiableSet(Ljava/util/Set;)Ljava/util/Set; > 2 @2 exception:3,
return 4,
20 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mParams, <Application,Landroid/companion/virtual/VirtualDeviceParams> > 1,
22 = invokevirtual < Application, Landroid/companion/virtual/VirtualDeviceParams, getDefaultActivityPolicy()I > 20 @39 exception:21,
2 = getfield < Application, Landroid/companion/virtual/VirtualDeviceParams, mDefaultActivityPolicy, <Primordial,I> > 1,
return 2,
24 = invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, createListenerAdapter()Landroid/companion/virtual/VirtualDeviceManager$ActivityListener; > 1 @43 exception:23,
2 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$1>@0,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl$1, <init>(Lcom/android/server/companion/virtual/VirtualDeviceImpl;)V > 2,1 @2 exception:3,
return 2,
25 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda2>@47,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda2, <init>(Lcom/android/server/companion/virtual/VirtualDeviceImpl;)V > 25,1 @49 exception:26,
27 = new <Application,Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda3>@52,
invokespecial < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl$$ExternalSyntheticLambda3, <init>(Lcom/android/server/companion/virtual/VirtualDeviceImpl;)V > 27,1 @54 exception:28,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mAssociationInfo, <Application,Landroid/companion/AssociationInfo> > 1,
31 = invokevirtual < Application, Landroid/companion/AssociationInfo, getDeviceProfile()Ljava/lang/String; > 29 @59 exception:30,
2 = getfield < Application, Landroid/companion/AssociationInfo, mDeviceProfile, <Application,Ljava/lang/String> > 1,
return 2,
invokespecial < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, <init>(IILandroid/util/ArraySet;Ljava/util/Set;Ljava/util/Set;Ljava/util/Set;Ljava/util/Set;ILandroid/companion/virtual/VirtualDeviceManager$ActivityListener;Lcom/android/server/companion/virtual/GenericWindowPolicyController$ActivityBlockedCallback;Lcom/android/server/companion/virtual/GenericWindowPolicyController$SecureWindowCallback;Ljava/lang/String;)V > 3,4,5,7,10,13,16,19,22,24,25,27,31 @64 exception:32,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, registerRunningAppsChangedListener(Lcom/android/server/companion/virtual/GenericWindowPolicyController$RunningAppsChangedListener;)V > 3,1 @67 exception:33,
3 = getfield < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, mRunningAppsChangedListener, <Application,Landroid/util/ArraySet> > 1,
5 = invokevirtual < Application, Landroid/util/ArraySet, add(Ljava/lang/Object;)Z > 3,2 @2 exception:4,
return,
monitorexit 2,
return 3,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 67 @56 exception:72,
73 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
74 = load_metadata: <Application,Landroid/hardware/display/DisplayManagerInternal>, <Primordial,Ljava/lang/Class>,
76 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, access$000(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;Ljava/lang/Class;)Ljava/lang/Object; > 73,74 @63 exception:75,
77 = checkcast <Application,Landroid/hardware/display/DisplayManagerInternal>76 <Application,Landroid/hardware/display/DisplayManagerInternal>,
79 = invokevirtual < Application, Landroid/hardware/display/DisplayManagerInternal, createVirtualDisplay(Landroid/hardware/display/VirtualDisplayConfig;Landroid/hardware/display/IVirtualDisplayCallback;Landroid/companion/virtual/IVirtualDevice;Landroid/window/DisplayWindowPolicyController;Ljava/lang/String;)I > 77,2,3,4,69,5 @75 exception:78,
81 = invokestatic < Application, Landroid/os/Binder, clearCallingIdentity()J > @79 exception:80,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, onVirtualDisplayCreatedLocked(Lcom/android/server/companion/virtual/GenericWindowPolicyController;I)V > 40,69,79 @83 exception:82,
4 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDeviceLock, <Application,Ljava/lang/Object> > 1,
monitorenter 4,
conditional branch(ne, to iindex=-1) 3,5,
6 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
8 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @10 exception:7,
10 = invokeinterface < Application, Ljava/util/Set, contains(Ljava/lang/Object;)Z > 6,8 @14 exception:9,
conditional branch(ne, to iindex=-1) 10,11,
23 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mVirtualDisplayIds, <Application,Ljava/util/Set> > 1,
25 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @22 exception:24,
27 = invokeinterface < Application, Ljava/util/Set, add(Ljava/lang/Object;)Z > 23,25 @26 exception:26,
invokevirtual < Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, setDisplayId(I)V > 2,3 @29 exception:28,
putfield 1.< Application, Lcom/android/server/companion/virtual/GenericWindowPolicyController, mDisplayId, <Primordial,I> > = 2,
return,
29 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mWindowPolicyControllers, <Application,Landroid/util/SparseArray> > 1,
invokevirtual < Application, Landroid/util/SparseArray, put(ILjava/lang/Object;)V > 29,3,2 @34 exception:30,
31 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
32 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mDefaultShowPointerIcon, <Primordial,Z> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setShowPointerIcon(ZI)V > 31,32,3 @41 exception:33,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
invokevirtual < Application, Landroid/hardware/input/InputManagerInternal, setPointerIconVisible(ZI)V > 4,2,3 @2 exception:5,
return,
34 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setPointerAcceleration(FI)V > 34,35,3 @48 exception:36,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
invokevirtual < Application, Landroid/hardware/input/InputManagerInternal, setPointerAcceleration(FI)V > 4,2,3 @2 exception:5,
return,
37 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setDisplayEligibilityForPointerCapture(ZI)V > 37,11,3 @54 exception:38,
4 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mInputManagerInternal, <Application,Landroid/hardware/input/InputManagerInternal> > 1,
invokevirtual < Application, Landroid/hardware/input/InputManagerInternal, setDisplayEligibilityForPointerCapture(IZ)V > 4,3,2 @2 exception:5,
return,
39 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mInputController, <Application,Lcom/android/server/companion/virtual/InputController> > 1,
invokevirtual < Application, Lcom/android/server/companion/virtual/InputController, setLocalIme(I)V > 39,3 @59 exception:40,
3 = getfield < Application, Lcom/android/server/companion/virtual/InputController, mDisplayManagerInternal, <Application,Landroid/hardware/display/DisplayManagerInternal> > 1,
5 = invokevirtual < Application, Landroid/hardware/display/DisplayManagerInternal, getDisplayInfo(I)Landroid/view/DisplayInfo; > 3,2 @2 exception:4,
6 = getfield < Application, Landroid/view/DisplayInfo, flags, <Primordial,I> > 5,
8 = binaryop(and) 6 , 7,
conditional branch(ne, to iindex=-1) 8,7,
return,
41 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
43 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @64 exception:42,
45 = invokeinterface < Application, Ljava/util/Map, containsKey(Ljava/lang/Object;)Z > 41,43 @68 exception:44,
conditional branch(eq, to iindex=-1) 45,11,
46 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mContext, <Application,Landroid/content/Context> > 1,
47 = load_metadata: <Application,Landroid/os/PowerManager>, <Primordial,Ljava/lang/Class>,
49 = invokevirtual < Application, Landroid/content/Context, getSystemService(Ljava/lang/Class;)Ljava/lang/Object; > 46,47 @102 exception:48,
50 = checkcast <Application,Landroid/os/PowerManager>49 <Application,Landroid/os/PowerManager>,
52 = new <Application,Ljava/lang/StringBuilder>@110,
invokespecial < Application, Ljava/lang/StringBuilder, <init>()V > 52 @112 exception:53,
56 = invokevirtual < Application, Ljava/lang/StringBuilder, append(Ljava/lang/String;)Ljava/lang/StringBuilder; > 52,54 @117 exception:55,
58 = invokevirtual < Application, Ljava/lang/StringBuilder, append(I)Ljava/lang/StringBuilder; > 52,3 @120 exception:57,
60 = invokevirtual < Application, Ljava/lang/StringBuilder, toString()Ljava/lang/String; > 52 @123 exception:59,
62 = invokevirtual < Application, Landroid/os/PowerManager, newWakeLock(ILjava/lang/String;I)Landroid/os/PowerManager$WakeLock; > 50,51,60,3 @127 exception:61,
63 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceImpl, mPerDisplayWakelocks, <Application,Ljava/util/Map> > 1,
65 = invokestatic < Application, Ljava/lang/Integer, valueOf(I)Ljava/lang/Integer; > 3 @133 exception:64,
67 = invokeinterface < Application, Ljava/util/Map, put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; > 63,65,62 @137 exception:66,
invokevirtual < Application, Landroid/os/PowerManager$WakeLock, acquire()V > 62 @140 exception:68,
monitorexit 4,
return,
invokestatic < Application, Landroid/os/Binder, restoreCallingIdentity(J)V > 81 @86 exception:85,
86 = getfield < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService$VirtualDeviceManagerImpl, this$0, <Application,Lcom/android/server/companion/virtual/VirtualDeviceManagerService> > 1,
88 = invokestatic < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerService, -$$Nest$fgetmLocalService(Lcom/android/server/companion/virtual/VirtualDeviceManagerService;)Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal; > 86 @91 exception:87,
invokevirtual < Application, Lcom/android/server/companion/virtual/VirtualDeviceManagerInternal, onVirtualDisplayCreated(I)V > 88,79 @95 exception:89,
return 79,","depth : 0
public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v10 = v7.createWindowPolicyController();
	Binder.restoreCallingIdentity(v9);
	Object v12 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v13 = v12.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v14 = Binder.clearCallingIdentity();
	v7.onVirtualDisplayCreatedLocked(v10, v13);
	Binder.restoreCallingIdentity(v14);
	VirtualDeviceManagerInternal v17 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v17.onVirtualDisplayCreated(v13);
	return v13;
}
-----
depth : 1
public GenericWindowPolicyController createWindowPolicyController(){
	GenericWindowPolicyController v0 = new GenericWindowPolicyController(8192,524288,v1,v2,v3,v4,v5,v6,v7,v7,v8,v10);
	ArraySet v1 = p0.getAllowedUserHandles();
	Set v2 = this.mParams.getAllowedCrossTaskNavigations();
	Set v3 = this.mParams.getBlockedCrossTaskNavigations();
	Set v4 = this.mParams.getAllowedActivities();
	Set v5 = this.mParams.getBlockedActivities();
	int v6 = this.mParams.getDefaultActivityPolicy();
	VirtualDeviceManager$ActivityListener v7 = p0.createListenerAdapter();
	VirtualDeviceImpl$$ExternalSyntheticLambda2 v7 = new VirtualDeviceImpl$$ExternalSyntheticLambda2(p0);
	VirtualDeviceImpl$$ExternalSyntheticLambda3 v8 = new VirtualDeviceImpl$$ExternalSyntheticLambda3(p0);
	String v10 = this.mAssociationInfo.getDeviceProfile();
	v0.registerRunningAppsChangedListener(p0);
	return v0;
}
-----
depth : 2
public ArraySet getAllowedUserHandles(){
	ArraySet v0 = new ArraySet();
	Object v2 = this.mContext.getSystemService(DevicePolicyManage.class);
	Object v3 = this.mContext.getSystemService(UserManage.class);
	List v4 = v3.getAllProfiles();
	Iterator v5 = v4.iterator();
	boolean v6 = v5.hasNext();
	return v0;
}
-----
depth : 2
public Set getAllowedCrossTaskNavigations(){
	Set v1 = Collections.unmodifiableSet(this.mAllowedCrossTaskNavigations);
	return v1;
}
-----
depth : 2
public Set getBlockedCrossTaskNavigations(){
	Set v1 = Collections.unmodifiableSet(this.mBlockedCrossTaskNavigations);
	return v1;
}
-----
depth : 2
public Set getAllowedActivities(){
	Set v1 = Collections.unmodifiableSet(this.mAllowedActivities);
	return v1;
}
-----
depth : 2
public Set getBlockedActivities(){
	Set v1 = Collections.unmodifiableSet(this.mBlockedActivities);
	return v1;
}
-----
depth : 2
public int getDefaultActivityPolicy(){
	return this.mDefaultActivityPolicy;
}
-----
depth : 2
public VirtualDeviceManager$ActivityListener createListenerAdapter(){
	VirtualDeviceImpl$1 v0 = new VirtualDeviceImpl$1(p0);
	return v0;
}
-----
depth : 2
public String getDeviceProfile(){
	return this.mDeviceProfile;
}
-----
depth : 2
public void registerRunningAppsChangedListener(GenericWindowPolicyController$RunningAppsChangedListener p1){
	boolean v1 = this.mRunningAppsChangedListener.add(p1);
	return;
}
-----
depth : 1
public void onVirtualDisplayCreatedLocked(GenericWindowPolicyController p1, int p2){
	Integer v1 = Integer.valueOf(p2);
	boolean v2 = this.mVirtualDisplayIds.contains(v1);
	Integer v3 = Integer.valueOf(p2);
	boolean v4 = this.mVirtualDisplayIds.add(v3);
	p1.setDisplayId(p2);
	this.mWindowPolicyControllers.put(p2, p1);
	this.mInputController.setShowPointerIcon(this.mDefaultShowPointerIcon, p2);
	this.mInputController.setPointerAcceleration(1065353216, p2);
	this.mInputController.setDisplayEligibilityForPointerCapture(0, p2);
	this.mInputController.setLocalIme(p2);
	Integer v11 = Integer.valueOf(p2);
	boolean v12 = this.mPerDisplayWakelocks.containsKey(v11);
	Object v13 = this.mContext.getSystemService(PowerManage.class);
	StringBuilder v13 = new StringBuilder();
	StringBuilder v15 = v13.append(""VirtualDeviceImpl:"");
	StringBuilder v16 = v13.append(p2);
	String v17 = v13.toString();
	PowerManager$WakeLock v18 = v13.newWakeLock(10, v17, p2);
	Integer v19 = Integer.valueOf(p2);
	Object v20 = this.mPerDisplayWakelocks.put(v19, v18);
	v18.acquire();
	return;
}
-----
depth : 2
public void setDisplayId(int p1){
	this.mDisplayId = p1;
	return;
}
-----
depth : 2
public void setShowPointerIcon(boolean p1, int p2){
	this.mInputManagerInternal.setPointerIconVisible(p1, p2);
	return;
}
-----
depth : 2
public void setPointerAcceleration(float p1, int p2){
	this.mInputManagerInternal.setPointerAcceleration(p1, p2);
	return;
}
-----
depth : 2
public void setDisplayEligibilityForPointerCapture(boolean p1, int p2){
	this.mInputManagerInternal.setDisplayEligibilityForPointerCapture(p2, p1);
	return;
}
-----
depth : 2
public void setLocalIme(int p1){
	DisplayInfo v1 = this.mDisplayManagerInternal.getDisplayInfo(p1);
	return;
}
-----
","public int createVirtualDisplay(VirtualDisplayConfig p1, IVirtualDisplayCallback p2, IVirtualDevice p3, String p4){
	long v9 = Binder.clearCallingIdentity();
	GenericWindowPolicyController v11 = new GenericWindowPolicyController(8192,524288,v12,v20,v22,v24,v26,v28,v29,v32,v34,v36);
	ArraySet v13 = new ArraySet();
	Object v15 = this.mContext.getSystemService(DevicePolicyManage.class);
	Object v16 = this.mContext.getSystemService(UserManage.class);
	List v17 = v16.getAllProfiles();
	Iterator v18 = v17.iterator();
	boolean v19 = v18.hasNext();
	ArraySet v12 = v13;
	Set v21 = Collections.unmodifiableSet(this.mAllowedCrossTaskNavigations);
	Set v20 = v21;
	Set v23 = Collections.unmodifiableSet(this.mBlockedCrossTaskNavigations);
	Set v22 = v23;
	Set v25 = Collections.unmodifiableSet(this.mAllowedActivities);
	Set v24 = v25;
	Set v27 = Collections.unmodifiableSet(this.mBlockedActivities);
	Set v26 = v27;
	int v28 = this.mDefaultActivityPolicy;
	VirtualDeviceImpl$1 v30 = new VirtualDeviceImpl$1(VirtualDeviceImpl);
	VirtualDeviceManager$ActivityListener v29 = v30;
	VirtualDeviceImpl$$ExternalSyntheticLambda2 v32 = new VirtualDeviceImpl$$ExternalSyntheticLambda2(VirtualDeviceImpl);
	VirtualDeviceImpl$$ExternalSyntheticLambda3 v34 = new VirtualDeviceImpl$$ExternalSyntheticLambda3(VirtualDeviceImpl);
	String v36 = this.mDeviceProfile;
	boolean v39 = this.mRunningAppsChangedListener.add(p0);
	GenericWindowPolicyController v10 = v11;
	Binder.restoreCallingIdentity(v9);
	Object v41 = VirtualDeviceManagerService.access$000(this.this$0, DisplayManagerInterna.class);
	int v42 = v41.createVirtualDisplay(p1, p2, p3, v10, p4);
	long v43 = Binder.clearCallingIdentity();
	Integer v45 = Integer.valueOf(v42);
	boolean v46 = this.mVirtualDisplayIds.contains(v45);
	Integer v47 = Integer.valueOf(v42);
	boolean v48 = this.mVirtualDisplayIds.add(v47);
	this.mDisplayId = p2;
	this.mWindowPolicyControllers.put(v42, v10);
	this.mInputManagerInternal.setPointerIconVisible(this.mDefaultShowPointerIcon, p2);
	this.mInputManagerInternal.setPointerAcceleration(1065353216, p2);
	this.mInputManagerInternal.setDisplayEligibilityForPointerCapture(p2, 0);
	DisplayInfo v58 = this.mDisplayManagerInternal.getDisplayInfo(p2);
	Integer v59 = Integer.valueOf(v42);
	boolean v60 = this.mPerDisplayWakelocks.containsKey(v59);
	Object v61 = this.mContext.getSystemService(PowerManage.class);
	StringBuilder v62 = new StringBuilder();
	StringBuilder v64 = v62.append(""VirtualDeviceImpl:"");
	StringBuilder v65 = v62.append(v42);
	String v66 = v62.toString();
	PowerManager$WakeLock v67 = v61.newWakeLock(10, v66, v42);
	Integer v68 = Integer.valueOf(v42);
	Object v69 = this.mPerDisplayWakelocks.put(v68, v67);
	v67.acquire();
	Binder.restoreCallingIdentity(v43);
	VirtualDeviceManagerInternal v72 = VirtualDeviceManagerService.-$$Nest$fgetmLocalService(this.this$0);
	v72.onVirtualDisplayCreated(v42);
	return v42;
}
","NONE"

